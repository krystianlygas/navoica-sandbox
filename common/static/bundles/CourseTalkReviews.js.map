{"version":3,"sources":["webpack:///./openedx/features/course_experience/static/course_experience/js/CourseTalkReviews.js","webpack:///external \"jQuery\"?0cb8*************"],"names":["CourseTalkReviews","options","$courseTalkToggleReadWriteReviews","$","toggleButton","toReadBtnText","toWriteBtnText","self","currentSrc","readSrc","getScript","load","loadIcon","hide","text","on","switchToReadView","writeSrc","ajaxSetup","cache","show","newBtnText"],"mappings":";;;;;;;;;;AAAA;;;;AAIA,IAAaA,iBAAb,GAAkC;AAChC,2BAAYC,OAAZ,EAAqB;AAAA;;AACnB,MAAMC,oCAAoCC,EAAEF,QAAQG,YAAV,CAA1C;;AAEA,MAAMC,gBAAgB,cAAtB;AACA,MAAMC,iBAAiB,gBAAvB;;AAEA;AACAC,OAAKC,UAAL,GAAkBP,QAAQQ,OAA1B;AACAN,IAAEO,SAAF,CAAYT,QAAQQ,OAApB,EAA6B,YAAM;AAAE;AACnCN,MAAE,QAAF,EAAYQ,IAAZ,CAAiB,YAAM;AACrBR,QAAEF,QAAQW,QAAV,EAAoBC,IAApB;AACD,KAFD;AAGD,GAJD;AAKAX,oCAAkCY,IAAlC,CAAuCR,cAAvC;;AAEAJ,oCAAkCa,EAAlC,CAAqC,OAArC,EAA8C,YAAM;AAClD,QAAMC,mBAAmBT,KAAKC,UAAL,KAAoBP,QAAQgB,QAArD;AACA;AACAd,MAAEe,SAAF,CAAY,EAAEC,OAAO,IAAT,EAAZ;;AAEA;AACAhB,MAAEF,QAAQW,QAAV,EAAoBQ,IAApB;;AAEA;AACA,QAAMC,aAAaL,mBAAmBV,cAAnB,GAAoCD,aAAvD;AACAH,sCAAkCY,IAAlC,CAAuCO,UAAvC;;AAEA;AACAd,SAAKC,UAAL,GAAkBQ,mBAAmBf,QAAQQ,OAA3B,GAAqCR,QAAQgB,QAA/D;AACAd,MAAEO,SAAF,CAAYH,KAAKC,UAAjB,EAA6B,YAAM;AAAE;AACnCL,QAAE,QAAF,EAAYQ,IAAZ,CAAiB,YAAM;AACrBR,UAAEF,QAAQW,QAAV,EAAoBC,IAApB;AACD,OAFD;AAGD,KAJD;AAKD,GAnBD;AAoBD,CApCH,C;;;;;;;;ACJA,aAAa,mCAAmC,EAAE,I","file":"CourseTalkReviews.js","sourcesContent":["/**\n  Enable users to switch between viewing and writing CourseTalk reviews.\n */\n\nexport class CourseTalkReviews {  // eslint-disable-line import/prefer-default-export\n  constructor(options) {\n    const $courseTalkToggleReadWriteReviews = $(options.toggleButton);\n\n    const toReadBtnText = 'View Reviews';\n    const toWriteBtnText = 'Write a Review';\n\n    // Initialize page to the read reviews view\n    self.currentSrc = options.readSrc;\n    $.getScript(options.readSrc, () => { // eslint-disable-line func-names\n      $('iframe').load(() => {\n        $(options.loadIcon).hide();\n      });\n    });\n    $courseTalkToggleReadWriteReviews.text(toWriteBtnText);\n\n    $courseTalkToggleReadWriteReviews.on('click', () => {\n      const switchToReadView = self.currentSrc === options.writeSrc;\n      // Cache js file for future button clicks\n      $.ajaxSetup({ cache: true });\n\n      // Show the loading icon\n      $(options.loadIcon).show();\n\n      // Update toggle button text\n      const newBtnText = switchToReadView ? toWriteBtnText : toReadBtnText;\n      $courseTalkToggleReadWriteReviews.text(newBtnText);\n\n      // Toggle the new coursetalk script object\n      self.currentSrc = switchToReadView ? options.readSrc : options.writeSrc;\n      $.getScript(self.currentSrc, () => { // eslint-disable-line func-names\n        $('iframe').load(() => {\n          $(options.loadIcon).hide();\n        });\n      });\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./openedx/features/course_experience/static/course_experience/js/CourseTalkReviews.js","(function() { module.exports = window[\"jQuery\"]; }());\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 0\n// module chunks = 4 5 6 9 10 12 13 14 16 17 18 19 20 21 22 23 24 25 26 29"],"sourceRoot":""}