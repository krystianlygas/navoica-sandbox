{"version":3,"sources":["webpack:///./cms/static/js/base.js?5a2f","webpack:///./cms/static/js/factories/base.js?3073","webpack:///./cms/static/js/factories/login.js","webpack:///./cms/static/js/models/course.js?a0e5","webpack:///./cms/static/js/pages/login.js","webpack:///./cms/static/js/utils/change_on_enter.js?032c","webpack:///./cms/static/js/utils/date_utils.js?f14d","webpack:///./cms/static/js/utils/handle_iframe_binding.js?102e","webpack:///./cms/static/js/utils/module.js?bf54","webpack:///./cms/static/js/utils/regional_pl.js?eb46","webpack:///./common/static/common/js/components/utils/view_utils.js?0b39","webpack:///./common/static/common/js/components/views/feedback_prompt.js?ff84","webpack:///./common/static/common/js/utils/page_factory.js?2897","webpack:///./common/static/js/src/accessibility_tools.js?c980","webpack:///./common/static/js/src/ie_shim.js?d4f2","webpack:///./common/static/js/src/lang_edx.js?572b","webpack:///./common/static/js/src/logger.js?f049","webpack:///./common/static/js/src/tooltip_manager.js?208d","webpack:///./common/static/js/src/utility.js","webpack:///./common/static/js/vendor/date.js?c626","webpack:///./common/static/js/vendor/jquery.form.js?c2b7","webpack:///./common/static/js/vendor/jquery.leanModal.js?48e4","webpack:///./common/static/js/vendor/timepicker/datepair.js?74a4","webpack:///./common/static/js/vendor/timepicker/jquery.timepicker.js?ed48","webpack:///./~/edx-ui-toolkit/src/js/dropdown-menu/dropdown-menu-view.js?24cb","webpack:///./~/edx-ui-toolkit/src/js/dropdown-menu/dropdown.underscore?28c4","webpack:///external \"jQuery\"?0cb8**","webpack:///external \"Backbone\"?709d*","webpack:///external \"_\"?b3b9*","webpack:///external \"gettext\"?8b52"],"names":["domReady","$","_","gettext","NotificationView","PromptView","DateUtils","ModuleUtils","IframeUtils","DropdownMenuView","$body","dropdownMenuView","on","select","addClass","bind","hideAlert","hideNotification","click","e","removeClass","$subnav","find","$title","hasClass","stopPropagation","attr","leanModal","overlay","closeButton","preventDefault","smoothScrollLink","iframeBinding","browser","msie","ajaxSetup","cache","length","el","postRender","smoothScroll","offset","easing","speed","scrollElement","scrollTarget","smoothScrollTop","closest","cookie","utility","ViewUtils","LoginFactory","homepageURL","postJSON","url","data","callback","ajax","type","dataType","success","submit","event","$submitButton","deferred","Deferred","promise","disableElementWhileRunning","submit_data","serialize","json","next","exec","decodeURIComponent","window","location","search","isExternal","redirect","prepend","value","resolve","stop","html","Backbone","Course","Model","extend","defaults","name","validate","attrs","options","invokePageFactory","triggerChangeEventOnEnter","which","trigger","blur","date","RegionalPl","moment","TriggerChangeEventOnEnter","setupDatePicker","fieldName","view","index","cacheModel","div","hasOwnProperty","collection","models","$el","collectionSelector","cid","model","fieldToSelectorMap","datefield","timefield","cacheview","setfield","newVal","getDate","clearValidationErrors","setAndValidate","timepicker","timeFormat","datepicker","dateFormat","setDefaults","regional","change","keyup","current_date","get","setDate","val","datepickerInput","timepickerInput","time","Date","UTC","getFullYear","getMonth","getHours","getMinutes","datetime","parse","renderDate","dateArg","toLocaleString","timeZone","timeZoneName","parseDateFromString","stringDate","parts","split","convertDateStringsToObjects","obj","dateFields","i","target_element","nodeName","modifyTagContent","each","prop","ifr_source","wmode","indexOf","getQString","oldString","newString","lastIndexOf","iframeBindingHtml","html_string","temp_content","document","createElement","urlRoot","getUpdateUrl","locator","isUndefined","closeText","prevText","nextText","currentText","monthNames","monthNamesShort","dayNames","dayNamesShort","dayNamesMin","weekHeader","firstDay","isRTL","showMonthAfterYear","yearSuffix","toggleExpandCollapse","showLoadingIndicator","hideLoadingIndicator","confirmThenRunOperation","runOperationShowingMessage","withDisabledElement","getScrollOffset","setScrollOffset","setScrollTop","reload","hasChangedAttributes","deleteNotificationHandler","validateRequiredField","validateURLItemEncoding","validateTotalKeyLength","checkTotalKeyLengthViolations","loadJavaScript","MAX_SUM_KEY_LENGTH","target","collapsedClass","toggleClass","children","slideToggle","show","hide","title","message","actionLabel","operation","onCancelCallback","Warning","actions","primary","text","prompt","secondary","notificationView","Mini","done","functionName","currentTarget","apply","element","always","scrollTop","animate","elementTop","top","newScrollTop","attributes","changedAttributes","has","msg","item","allowUnicode","required","test","encodeURIComponent","match","key_field_selectors","totalLength","reduce","sum","ele","selectors","classes","message_tpl","errorWrapper","shown","hiding","errorMessage","template","limit","save","disabled","require","reject","str","SystemFeedbackView","Prompt","prototype","closeIcon","icon","render","body","arguments","inFocus","outFocus","capitalCamel","intents","compose","capitalize","camelize","intent","subclass","factory","args","pageFactoryArguments","Error","$focusedElementBeforeModal","focusableElementsString","reassignTabIndexesAndAriaHidden","focusableElementsFilterString","closeButtonId","modalId","mainPageId","focusableItems","filter","focus","trapTabFocus","$last","last","keyCode","shiftKey","trapShiftTabFocus","bindReturnFocusListener","$previouslyFocusedElement","bindEscapeKeyListener","trapFocusForAccessibleModal","accessible_modal","initialFocus","href","keypress","SRAlert","readerFeedbackID","$readerFeedbackSelector","edx","HtmlUtils","append","interpolateHtml","HTML","clear","setHtml","readElts","elts","texts","idx","push","readTexts","readText","htmlFeedback","previous_feedback","SR","origin","protocol","hostname","port","Language","$settings_language_selector","self","init","listenForLanguagePreferenceChange","language","is_user_authenticated","JSON","submitAjaxRequest","refresh","stringify","contentType","notifyOnError","beforeSend","xhr","setRequestHeader","fail","ready","Logger","listeners","sendRequest","request","ajaxWithPrefix","async","object","propertyName","call","log","eventType","requestOptions","callbacks","err","console","error","event_type","page","listen","onunload","log_event","TooltipManager","tooltip","className","join","class","appendTo","bindAll","bindEvents","SELECTOR","showTooltip","moveTooltip","hideTooltip","getCoords","pageX","pageY","left","outerWidth","outerHeight","css","prepareTooltip","tooltipTimer","clearTimeout","setTimeout","width","height","tooltipText","openTooltip","showOnClick","destroy","remove","off","globalTooltipManager","toLowerCase","replace","RegExp","host","rewriteStaticLinks","content","from","to","replacer","fromRe","regex","CultureInfo","englishName","nativeName","abbreviatedDayNames","shortestDayNames","firstLetterDayNames","abbreviatedMonthNames","amDesignator","pmDesignator","firstDayOfWeek","twoDigitYearMax","dateElementOrder","formatPatterns","shortDate","longDate","shortTime","longTime","fullDateTime","sortableDateTime","universalSortableDateTime","rfc1123","monthDay","yearMonth","regexPatterns","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec","sun","mon","tue","wed","thu","fri","sat","future","past","add","subtract","yesterday","today","tomorrow","now","millisecond","second","minute","hour","week","month","day","year","shortMeridian","longMeridian","timezone","ordinalSuffix","timeContext","timezones","$D","$P","$C","p","s","l","slice","clearTime","setHours","setMinutes","setSeconds","setMilliseconds","setTimeToNow","n","getSeconds","getMilliseconds","compare","date1","date2","isNaN","TypeError","equals","compareTo","getDayNumberFromName","m","o","getMonthNumberFromName","isLeapYear","getDaysInMonth","getTimezoneAbbreviation","z","getTimezoneOffset","toUpperCase","clone","getTime","between","start","end","isAfter","isBefore","isToday","isSameDay","addMilliseconds","addSeconds","addMinutes","addHours","addDays","addWeeks","addMonths","setMonth","Math","min","addYears","config","_orient","x","milliseconds","seconds","minutes","hours","weeks","months","years","days","$y","$m","$d","getWeek","a","b","c","d","f","g","w","getISOWeek","getUTCFullYear","getUTCMonth","getUTCDate","setWeek","moveToDayOfWeek","_validate","max","RangeError","validateMillisecond","validateSecond","validateMinute","validateHour","validateDay","validateMonth","validateYear","set","setTimezone","timezoneOffset","setTimezoneOffset","moveToFirstDayOfMonth","moveToLastDayOfMonth","moveToNthOccurrence","dayOfWeek","occurrence","shift","getDay","orient","diff","moveToMonth","getOrdinalNumber","ceil","getTimezone","getUTCOffset","here","there","Number","hasDaylightSavingTime","isDaylightSavingTime","r","toString","charAt","substr","getElapsed","toISOString","getUTCHours","getUTCMinutes","getUTCSeconds","_toString","format","t","ord","h","substring","$N","_nth","_is","_same","_isSecond","_dateElement","prev","previous","is","same","weekday","at","fromNow","after","ago","before","dx","mx","px","pxf","nth","de","toObject","fromObject","df","ntemp","temp","getDayName","getMonthName","sdf","mf","smf","j","ef","o1","o2","v","k","nf","_ss","nthfn","undefined","Parsing","Exception","Operators","rtoken","token","stoken","until","qx","rx","many","optional","not","ignore","product","Array","rule","any","all","sequence","q","ex","ey","d1","d2","_fn","list","best","concat","forward","gr","fname","repl","process","fn","_generator","op","unshift","gx","_vector","vx","flattenAndCompact","ax","Grammar","Translator","meridian","rday","finishExact","finish","unit","operator","expression","gap","mod","datePartDelimiter","timePartDelimiter","whiteSpace","generalDelimiter","_C","ctoken","keys","kx","ctoken2","key","hh","H","HH","mm","ss","hms","tt","zz","zzz","timeSuffix","dd","ddd","dddd","M","MM","MMM","MMMM","y","yy","yyy","yyyy","orientation","mdy","ymd","dmy","fmt","rules","_F","_get","formats","fx","_formats","_start","_parse","getParseFunction","parseExact","feature","fileapi","files","formdata","FormData","ajaxSubmit","method","action","$form","trim","ajaxSettings","iframeSrc","veto","beforeSerialize","traditional","elements","formToArray","semantic","extraData","param","beforeSubmit","resetForm","clearForm","includeHidden","oldSuccess","replaceTarget","status","context","fileInputs","hasFileInputs","mp","multipart","fileAPI","shouldUseFrame","jqxhr","iframe","closeKeepAlive","fileUploadIframe","fileUploadXhr","removeData","deepSerialize","serialized","len","result","part","serializedData","processData","uploadProgress","jQuery","upload","onprogress","percent","position","loaded","total","lengthComputable","form","id","$io","io","sub","timedOut","timeoutHandle","useProp","alert","removeAttr","iframeTarget","aborted","responseText","responseXML","statusText","getAllResponseHeaders","getResponseHeader","abort","contentWindow","execCommand","complete","global","active","clk","clk_x","clk_y","CLIENT_TIMEOUT_ABORT","SERVER_ABORT","getDoc","frame","doc","contentDocument","csrf_token","csrf_param","doSubmit","setAttribute","skipEncodingOverride","encoding","enctype","timeout","cb","checkState","state","readyState","extraInputs","isPlainObject","attachEvent","addEventListener","forceSync","domCheckCount","callbackProcessed","detachEvent","removeEventListener","errMsg","isXml","XMLDocument","isXMLDoc","opera","innerHTML","docRoot","documentElement","header","headers","getAttribute","dt","scr","textarea","ta","getElementsByTagName","pre","textContent","innerText","toXml","httpData","parseXML","ActiveXObject","loadXML","DOMParser","parseFromString","parseJSON","ct","xml","dataFilter","globalEval","ajaxForm","delegation","isFunction","selector","isReady","doAjaxSubmit","captureSubmittingElement","ajaxFormUnbind","isDefaultPrevented","offsetX","offsetY","offsetLeft","offsetTop","unbind","els","jmax","fieldValue","constructor","$input","input","formSerialize","fieldSerialize","successful","merge","tag","tagName","checked","selectedIndex","ops","one","selected","specified","clearFields","clearInputs","re","reset","nodeType","enable","$sel","parent","debug","postError","modal_id","close_modal","modal_height","modal_width","opacity","fadeTo","fadeOut","$this","doDatepair","opts","onSelect","initDatepair","container","startDateInput","endDateInput","dateDelta","startDate","endDate","startTimeInput","endTimeInput","startInt","endInt","updateDatePair","updateTimePair","oldDelta","newEnd","newDelta","startTimeVal","endDateAdvance","startInput","endInput","returnStr","replaceChars","curChar","shortMonths","longMonths","shortDays","longDays","D","N","S","W","F","L","Y","A","B","G","I","O","abs","P","T","toTimeString","Z","U","define","_baseDate","_generateBaseDate","_ONE_DAY","_closeEvent","_defaults","minTime","maxTime","durationTime","step","showDuration","scrollDefaultNow","scrollDefaultTime","selectOnBlur","forceRoundTime","_lang","decimal","mins","hr","hrs","globalInit","methods","raw_attrs","nodeValue","replaceWith","settings","_time2int","lang","_formatValue","_keyhandler","_render","_findRow","topOffset","_selectValue","option","getSecondsFromMidnight","valueOf","setTime","prettyTime","_int2time","durStart","timeInt","row","duration","_int2duration","_setSelected","_currentTimezoneOffset","_baseDateTimezoneOffset","out","halfStep","jObj","timeValue","cursor","timeString","round","toFixed","output","code","floor","parseInt"],"mappings":"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O6P,QAAQjqB,IAAR,CAAa7G,KAAb,CAAmB,IAAnB,EAAyB4C,SAAzB,CAAP;AAA6C,GAAzF,MACA;AAAEvR,KAAEsX,KAAF,CAAQ,YAAWsY,MAAX,GAAoB,sCAA5B;AAAsE;AAC7E,EALD;AAMA,CA3pBA,CAAD,C;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA,oCAAoC,oBAAoB;;AAExD;AACA;AACA;;AAEA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,2BAA2B,OAAO;AAClC,6BAA6B,EAAE;AAC/B;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AAAA,oGACA;AACA,CAAC;AACD;AACA;AACA;AACA;;;;;;;;AC3RA,sIAAsI,2FAA2F,8BAA8B,kGAAkG,wJAAwJ,mBAAmB,+HAA+H,qGAAqG,kOAAkO,qLAAqL,EAAE,iB;;;;;;;ACAzoC,aAAa,mCAAmC,EAAE,I;;;;;;;ACAlD,aAAa,qCAAqC,EAAE,I;;;;;;;ACApD,aAAa,8BAA8B,EAAE,I;;;;;;;ACA7C,aAAa,oCAAoC,EAAE,I","file":"js/pages/login.js","sourcesContent":["define([\n    'domReady',\n    'jquery',\n    'underscore',\n    'gettext',\n    'common/js/components/views/feedback_notification',\n    'common/js/components/views/feedback_prompt',\n    'js/utils/date_utils',\n    'js/utils/module',\n    'js/utils/handle_iframe_binding',\n    'edx-ui-toolkit/js/dropdown-menu/dropdown-menu-view',\n    'jquery.ui',\n    'jquery.leanModal',\n    'jquery.form',\n    'jquery.smoothScroll'\n],\n    function(\n        domReady,\n        $,\n        _,\n        gettext,\n        NotificationView,\n        PromptView,\n        DateUtils,\n        ModuleUtils,\n        IframeUtils,\n        DropdownMenuView\n    ) {\n        var $body;\n\n        domReady(function() {\n            var dropdownMenuView;\n\n            $body = $('body');\n\n            $body.on('click', '.embeddable-xml-input', function() {\n                $(this).select();\n            });\n\n            $body.addClass('js');\n\n            // alerts/notifications - manual close\n            $('.action-alert-close, .alert.has-actions .nav-actions a').bind('click', hideAlert);\n            $('.action-notification-close').bind('click', hideNotification);\n\n            // nav - dropdown related\n            $body.click(function(e) {\n                $('.nav-dd .nav-item .wrapper-nav-sub').removeClass('is-shown');\n                $('.nav-dd .nav-item .title').removeClass('is-selected');\n            });\n\n            $('.nav-dd .nav-item, .filterable-column .nav-item').click(function(e) {\n                $subnav = $(this).find('.wrapper-nav-sub');\n                $title = $(this).find('.title');\n\n                if ($subnav.hasClass('is-shown')) {\n                    $subnav.removeClass('is-shown');\n                    $title.removeClass('is-selected');\n                } else {\n                    $('.nav-dd .nav-item .title').removeClass('is-selected');\n                    $('.nav-dd .nav-item .wrapper-nav-sub').removeClass('is-shown');\n                    $title.addClass('is-selected');\n                    $subnav.addClass('is-shown');\n            // if propagation is not stopped, the event will bubble up to the\n            // body element, which will close the dropdown.\n                    e.stopPropagation();\n                }\n            });\n\n            // general link management - new window/tab\n            $('a[rel=\"external\"]:not([title])').attr('title', gettext('This link will open in a new browser window/tab'));\n            $('a[rel=\"external\"]').attr('target', '_blank');\n\n            // general link management - lean modal window\n            $('a[rel=\"modal\"]').attr('title', gettext('This link will open in a modal window')).leanModal({\n                overlay: 0.50,\n                closeButton: '.action-modal-close'\n            });\n            $('.action-modal-close').click(function(e) {\n                (e).preventDefault();\n            });\n\n            // general link management - smooth scrolling page links\n            $('a[rel*=\"view\"][href^=\"#\"]').bind('click', smoothScrollLink);\n\n            IframeUtils.iframeBinding();\n\n            // disable ajax caching in IE so that backbone fetches work\n            if ($.browser.msie) {\n                $.ajaxSetup({cache: false});\n            }\n\n            // Initiate the edx tool kit dropdown menu\n            if ($('.js-header-user-menu').length) {\n                dropdownMenuView = new DropdownMenuView({\n                    el: '.js-header-user-menu'\n                });\n                dropdownMenuView.postRender();\n            }\n        });\n\n        function smoothScrollLink(e) {\n            (e).preventDefault();\n\n            $.smoothScroll({\n                offset: -200,\n                easing: 'swing',\n                speed: 1000,\n                scrollElement: null,\n                scrollTarget: $(this).attr('href')\n            });\n        }\n\n        function smoothScrollTop(e) {\n            (e).preventDefault();\n\n            $.smoothScroll({\n                offset: -200,\n                easing: 'swing',\n                speed: 1000,\n                scrollElement: null,\n                scrollTarget: $('#view-top')\n            });\n        }\n\n        function hideNotification(e) {\n            (e).preventDefault();\n            $(this).closest('.wrapper-notification').removeClass('is-shown').addClass('is-hiding').attr('aria-hidden', 'true');\n        }\n\n        function hideAlert(e) {\n            (e).preventDefault();\n            $(this).closest('.wrapper-alert').removeClass('is-shown');\n        }\n    }); // end require()\n\n\n\n// WEBPACK FOOTER //\n// ./cms/static/js/base.js","define(['js/base', 'cms/js/main', 'js/src/logger', 'datepair', 'accessibility',\n    'ieshim', 'tooltip_manager', 'lang_edx', 'js/models/course'],\n    function() {\n        'use strict';\n    }\n);\n\n\n\n// WEBPACK FOOTER //\n// ./cms/static/js/factories/base.js","define(['jquery.cookie', 'utility', 'common/js/components/utils/view_utils'], function(cookie, utility, ViewUtils) {\n    'use strict';\n    return function LoginFactory(homepageURL) {\n        function postJSON(url, data, callback) {\n            $.ajax({\n                type: 'POST',\n                url: url,\n                dataType: 'json',\n                data: data,\n                success: callback\n            });\n        }\n\n        // Clear the login error message when credentials are edited\n        $('input#email').on('input', function() {\n            $('#login_error').removeClass('is-shown');\n        });\n\n        $('input#password').on('input', function() {\n            $('#login_error').removeClass('is-shown');\n        });\n\n        $('form#login_form').submit(function(event) {\n            event.preventDefault();\n            var $submitButton = $('#submit'),\n                deferred = new $.Deferred(),\n                promise = deferred.promise();\n            ViewUtils.disableElementWhileRunning($submitButton, function() { return promise; });\n            var submit_data = $('#login_form').serialize();\n\n            postJSON('/login_post', submit_data, function(json) {\n                if (json.success) {\n                    var next = /next=([^&]*)/g.exec(decodeURIComponent(window.location.search));\n                    if (next && next.length > 1 && !isExternal(next[1])) {\n                        ViewUtils.redirect(next[1]);\n                    } else {\n                        ViewUtils.redirect(homepageURL);\n                    }\n                } else if ($('#login_error').length === 0) {\n                    $('#login_form').prepend(\n                        '<div id=\"login_error\" class=\"message message-status error\">' +\n                        json.value +\n                        '</span></div>'\n                    );\n                    $('#login_error').addClass('is-shown');\n                    deferred.resolve();\n                } else {\n                    $('#login_error')\n                        .stop()\n                        .addClass('is-shown')\n                        .html(json.value);\n                    deferred.resolve();\n                }\n            });\n        });\n    };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./cms/static/js/factories/login.js","define(['backbone'], function(Backbone) {\n    var Course = Backbone.Model.extend({\n        defaults: {\n            name: ''\n        },\n        validate: function(attrs, options) {\n            if (!attrs.name) {\n                return gettext('You must specify a name');\n            }\n        }\n    });\n    return Course;\n});\n\n\n\n// WEBPACK FOOTER //\n// ./cms/static/js/models/course.js","define(\n    ['js/factories/login', 'common/js/utils/page_factory', 'js/factories/base'],\n    function(LoginFactory, invokePageFactory) {\n        'use strict';\n        invokePageFactory('LoginFactory', LoginFactory);\n    }\n);\n\n\n\n\n// WEBPACK FOOTER //\n// ./cms/static/js/pages/login.js","define(['jquery'], function($) {\n    // Trigger \"Change\" event on \"Enter\" keyup event\n    var triggerChangeEventOnEnter = function(e) {\n        if (e.which == 13) {\n            $(this).trigger('change').blur();\n        }\n    };\n\n    return triggerChangeEventOnEnter;\n});\n\n\n\n// WEBPACK FOOTER //\n// ./cms/static/js/utils/change_on_enter.js","define(['jquery', 'date', 'js/utils/regional_pl' ,'moment' ,'js/utils/change_on_enter', 'jquery.ui', 'jquery.timepicker'],\nfunction($, date, RegionalPl,  moment, TriggerChangeEventOnEnter) {\n    'use strict';\n    var setupDatePicker = function(fieldName, view, index) {\n        var cacheModel;\n        var div;\n        if (typeof index !== 'undefined' && view.hasOwnProperty('collection')) {\n            cacheModel = view.collection.models[index];\n            div = view.$el.find('#' + view.collectionSelector(cacheModel.cid));\n        } else {\n            cacheModel = view.model;\n            div = view.$el.find('#' + view.fieldToSelectorMap[fieldName]);\n        }\n        var datefield = $(div).find('input.date');\n        var timefield = $(div).find('input.time');\n        var cacheview = view;\n        var setfield = function(event) {\n            var newVal = getDate(datefield, timefield);\n            // Setting to null clears the time as well, as date and time are linked.\n            // Note also that the validation logic prevents us from clearing the start date\n            // (start date is required by the back end).\n            cacheview.clearValidationErrors();\n            cacheview.setAndValidate(fieldName, (newVal || null), event);\n        };\n\n        // instrument as date and time pickers\n        timefield.timepicker({timeFormat: 'H:i'});\n        datefield.datepicker({ dateFormat: 'dd/mm/yy' });\n\n        if ($(\"html\").attr(\"lang\")==='pl'){\n            $.datepicker.setDefaults(RegionalPl);\n        } else {\n            $.datepicker.setDefaults($.datepicker.regional['']);\n        }\n\n\n        // Using the change event causes setfield to be triggered twice, but it is necessary\n        // to pick up when the date is typed directly in the field.\n        datefield.change(setfield).keyup(TriggerChangeEventOnEnter);\n        timefield.on('changeTime', setfield);\n        timefield.on('input', setfield);\n\n        var current_date = null;\n        if (cacheModel) {\n            current_date = cacheModel.get(fieldName);\n        }\n        // timepicker doesn't let us set null, so check that we have a time\n        if (current_date) {\n            setDate(datefield, timefield, current_date);\n        } // but reset fields either way\n        else {\n            timefield.val('');\n            datefield.val('');\n        }\n    };\n\n    var getDate = function(datepickerInput, timepickerInput) {\n        // given a pair of inputs (datepicker and timepicker), return a JS Date\n        // object that corresponds to the datetime.js that they represent. Assume\n        // UTC timezone, NOT the timezone of the user's browser.\n        var date = null,\n            time = null;\n        if (datepickerInput.length > 0) {\n            date = $(datepickerInput).datepicker('getDate');\n        }\n        if (timepickerInput.length > 0) {\n            time = $(timepickerInput).timepicker('getTime');\n        }\n        if (date && time) {\n            return new Date(Date.UTC(\n                date.getFullYear(), date.getMonth(), date.getDate(),\n                time.getHours(), time.getMinutes()\n            ));\n        } else if (date) {\n            return new Date(Date.UTC(\n                date.getFullYear(), date.getMonth(), date.getDate()));\n        } else {\n            return null;\n        }\n    };\n\n    var setDate = function(datepickerInput, timepickerInput, datetime) {\n        // given a pair of inputs (datepicker and timepicker) and the date as an\n        // ISO-formatted date string.\n        datetime = date.parse(datetime);\n        if (datetime) {\n            $(datepickerInput).datepicker('setDate', datetime);\n            if (timepickerInput.length > 0) {\n                $(timepickerInput).timepicker('setTime', datetime);\n            }\n        }\n    };\n\n    var renderDate = function(dateArg) {\n        // Render a localized date from an argument that can be passed to\n        // the Date constructor (e.g. another Date or an ISO 8601 string)\n        var date = new Date(dateArg);\n        return date.toLocaleString(\n            [],\n            {timeZone: 'UTC', timeZoneName: 'short'}\n        );\n    };\n\n    var parseDateFromString = function(stringDate) {\n        if (stringDate && typeof stringDate === 'string') {\n            var parts = stringDate.split('/');\n            return new Date(parts[2], parts[1]-1, parts[0]);\n        } else {\n            return stringDate;\n        }\n    };\n\n    var convertDateStringsToObjects = function(obj, dateFields) {\n        for (var i = 0; i < dateFields.length; i++) {\n            if (obj[dateFields[i]]) {\n                obj[dateFields[i]] = parseDateFromString(obj[dateFields[i]]);\n            }\n        }\n        return obj;\n    };\n\n    return {\n        getDate: getDate,\n        setDate: setDate,\n        renderDate: renderDate,\n        convertDateStringsToObjects: convertDateStringsToObjects,\n        parseDateFromString: parseDateFromString,\n        setupDatePicker: setupDatePicker\n    };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./cms/static/js/utils/date_utils.js","define(['jquery'], function($) {\n    var iframeBinding = function(e) {\n        var target_element = null;\n        if (typeof(e) === 'undefined') {\n            target_element = $('iframe, embed');\n        } else {\n            if (typeof(e.nodeName) !== 'undefined') {\n                target_element = $(e).find('iframe, embed');\n            } else {\n                target_element = e.$('iframe, embed');\n            }\n        }\n        modifyTagContent(target_element);\n    };\n\n    var modifyTagContent = function(target_element) {\n        target_element.each(function() {\n            if ($(this).prop('tagName') === 'IFRAME') {\n                var ifr_source = $(this).attr('src');\n\n                // Modify iframe src only if it is not empty\n                if (ifr_source) {\n                    var wmode = 'wmode=transparent';\n                    if (ifr_source.indexOf('?') !== -1) {\n                        var getQString = ifr_source.split('?');\n                        if (getQString[1].search('wmode=transparent') === -1) {\n                            var oldString = getQString[1];\n                            var newString = getQString[0];\n                            $(this).attr('src', newString + '?' + wmode + '&' + oldString);\n                        }\n                    }\n                    // The TinyMCE editor is hosted in an iframe, and before the iframe is\n                    // removed we execute this code. To avoid throwing an error when setting the\n                    // attr, check that the source doesn't start with the value specified by TinyMCE ('javascript:\"\"').\n                    else if (ifr_source.lastIndexOf('javascript:', 0) !== 0) {\n                        $(this).attr('src', ifr_source + '?' + wmode);\n                    }\n                }\n            } else {\n                $(this).attr('wmode', 'transparent');\n            }\n        });\n    };\n\n    // Modify iframe/embed tags in provided html string\n    // Use this method when provided data is just html sting not dom element\n    // This method will only modify iframe (add wmode=transparent in url querystring) and embed (add wmode=transparent as attribute)\n    // tags in html string so both tags will attach to dom and don't create z-index problem for other popups\n    // Note: embed tags should be modified before rendering as they are static objects as compared to iframes\n    // Note: this method can modify unintended html (invalid tags) while converting to dom object\n    var iframeBindingHtml = function(html_string) {\n        if (html_string) {\n            var target_element = null;\n            var temp_content = document.createElement('div');\n            $(temp_content).html(html_string);\n            target_element = $(temp_content).find('iframe, embed');\n            if (target_element.length > 0) {\n                modifyTagContent(target_element);\n                html_string = $(temp_content).html();\n            }\n        }\n        return html_string;\n    };\n\n    return {\n        iframeBinding: iframeBinding,\n        iframeBindingHtml: iframeBindingHtml\n    };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./cms/static/js/utils/handle_iframe_binding.js","/**\n * Utilities for modules/xblocks.\n *\n * Returns:\n *\n * urlRoot: the root for creating/updating an xblock.\n * getUpdateUrl: a utility method that returns the xblock update URL, appending\n *               the location if passed in.\n */\ndefine(['underscore'], function(_) {\n    var urlRoot = '/xblock';\n\n    var getUpdateUrl = function(locator) {\n        if (_.isUndefined(locator)) {\n            return urlRoot + '/';\n        } else {\n            return urlRoot + '/' + locator;\n        }\n    };\n    return {\n        urlRoot: urlRoot,\n        getUpdateUrl: getUpdateUrl\n    };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./cms/static/js/utils/module.js","define(['jquery'],\nfunction($) {\n\nreturn {\n                closeText: \"Zamknij\",\n                prevText: \"&#x3C;Poprzedni\",\n                nextText: \"Następny&#x3E;\",\n                currentText: \"Dziś\",\n                monthNames: [\"Styczeń\", \"Luty\", \"Marzec\", \"Kwiecień\", \"Maj\", \"Czerwiec\",\n                    \"Lipiec\", \"Sierpień\", \"Wrzesień\", \"Październik\", \"Listopad\", \"Grudzień\"],\n                monthNamesShort: [\"Sty\", \"Lu\", \"Mar\", \"Kw\", \"Maj\", \"Cze\",\n                    \"Lip\", \"Sie\", \"Wrz\", \"Pa\", \"Lis\", \"Gru\"],\n                dayNames: [\"Niedziela\", \"Poniedziałek\", \"Wtorek\", \"Środa\", \"Czwartek\", \"Piątek\", \"Sobota\"],\n                dayNamesShort: [\"Nie\", \"Pn\", \"Wt\", \"Śr\", \"Czw\", \"Pt\", \"So\"],\n                dayNamesMin: [\"N\", \"Pn\", \"Wt\", \"Śr\", \"Cz\", \"Pt\", \"So\"],\n                weekHeader: \"Tydz\",\n                dateFormat: \"dd/mm/yy\",\n                firstDay: 1,\n                isRTL: false,\n                showMonthAfterYear: false,\n                yearSuffix: \"\"\n            };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./cms/static/js/utils/regional_pl.js","/**\n * Provides useful utilities for views.\n */\n\n    'use strict';\n\n    define(['jquery', 'underscore', 'gettext', 'common/js/components/views/feedback_notification',\n        'common/js/components/views/feedback_prompt'],\n        function($, _, gettext, NotificationView, PromptView) {\n            var toggleExpandCollapse, showLoadingIndicator, hideLoadingIndicator, confirmThenRunOperation,\n                runOperationShowingMessage, withDisabledElement, disableElementWhileRunning,\n                getScrollOffset, setScrollOffset, setScrollTop, redirect, reload, hasChangedAttributes,\n                deleteNotificationHandler, validateRequiredField, validateURLItemEncoding,\n                validateTotalKeyLength, checkTotalKeyLengthViolations, loadJavaScript;\n\n            // see https://openedx.atlassian.net/browse/TNL-889 for what is it and why it's 65\n            var MAX_SUM_KEY_LENGTH = 65;\n\n            /**\n             * Toggles the expanded state of the current element.\n             */\n            toggleExpandCollapse = function(target, collapsedClass) {\n                // Support the old 'collapsed' option until fully switched over to is-collapsed\n                if (!collapsedClass) {\n                    collapsedClass = 'collapsed';\n                }\n                target.closest('.expand-collapse').toggleClass('expand collapse');\n                target.closest('.is-collapsible, .window').toggleClass(collapsedClass);\n                target.closest('.is-collapsible').children('article').slideToggle();\n            };\n\n            /**\n             * Show the page's loading indicator.\n             */\n            showLoadingIndicator = function() {\n                $('.ui-loading').show();\n            };\n\n            /**\n             * Hide the page's loading indicator.\n             */\n            hideLoadingIndicator = function() {\n                $('.ui-loading').hide();\n            };\n\n            /**\n             * Confirms with the user whether to run an operation or not, and then runs it if desired.\n             */\n            confirmThenRunOperation = function(title, message, actionLabel, operation, onCancelCallback) {\n                return new PromptView.Warning({\n                    title: title,\n                    message: message,\n                    actions: {\n                        primary: {\n                            text: actionLabel,\n                            click: function(prompt) {\n                                prompt.hide();\n                                operation();\n                            }\n                        },\n                        secondary: {\n                            text: gettext('Cancel'),\n                            click: function(prompt) {\n                                if (onCancelCallback) {\n                                    onCancelCallback();\n                                }\n                                return prompt.hide();\n                            }\n                        }\n                    }\n                }).show();\n            };\n\n            /**\n             * Shows a progress message for the duration of an asynchronous operation.\n             * Note: this does not remove the notification upon failure because an error\n             * will be shown that shouldn't be removed.\n             * @param message The message to show.\n             * @param operation A function that returns a promise representing the operation.\n             */\n            runOperationShowingMessage = function(message, operation) {\n                var notificationView;\n                notificationView = new NotificationView.Mini({\n                    title: gettext(message)\n                });\n                notificationView.show();\n                return operation().done(function() {\n                    notificationView.hide();\n                });\n            };\n\n            /**\n             * Wraps a Backbone event callback to disable the event's target element.\n             *\n             * This paradigm is designed to be used in Backbone event maps where\n             * multiple events firing simultaneously is not desired.\n             *\n             * @param functionName the function to execute, as a string.\n             * The function must return a jQuery promise and be able to take an event\n             */\n            withDisabledElement = function(functionName) {\n                return function(event) {\n                    var view = this;\n                    disableElementWhileRunning($(event.currentTarget), function() {\n                        // call view.functionName(event), with view as the current this\n                        return view[functionName].apply(view, [event]);\n                    });\n                };\n            };\n\n            /**\n             * Disables a given element when a given operation is running.\n             * @param {jQuery} element the element to be disabled.\n             * @param operation the operation during whose duration the\n             * element should be disabled. The operation should return\n             * a JQuery promise.\n             */\n            disableElementWhileRunning = function(element, operation) {\n                element.addClass('is-disabled').attr('aria-disabled', true);\n                return operation().always(function() {\n                    element.removeClass('is-disabled').attr('aria-disabled', false);\n                });\n            };\n\n            /**\n             * Returns a handler that removes a notification, both dismissing it and deleting it from the database.\n             * @param callback function to call when deletion succeeds\n             */\n            deleteNotificationHandler = function(callback) {\n                return function(event) {\n                    event.preventDefault();\n                    $.ajax({\n                        url: $(this).data('dismiss-link'),\n                        type: 'DELETE',\n                        success: callback\n                    });\n                };\n            };\n\n            /**\n             * Performs an animated scroll so that the window has the specified scroll top.\n             * @param scrollTop The desired scroll top for the window.\n             */\n            setScrollTop = function(scrollTop) {\n                $('html, body').animate({\n                    scrollTop: scrollTop\n                }, 500);\n            };\n\n            /**\n             * Returns the relative position that the element is scrolled from the top of the view port.\n             * @param element The element in question.\n             */\n            getScrollOffset = function(element) {\n                var elementTop = element.offset().top;\n                return elementTop - $(window).scrollTop();\n            };\n\n            /**\n             * Scrolls the window so that the element is scrolled down to the specified relative position\n             * from the top of the view port.\n             * @param element The element in question.\n             * @param offset The amount by which the element should be scrolled from the top of the view port.\n             */\n            setScrollOffset = function(element, offset) {\n                var elementTop = element.offset().top,\n                    newScrollTop = elementTop - offset;\n                setScrollTop(newScrollTop);\n            };\n\n            /**\n             * Redirects to the specified URL. This is broken out as its own function for unit testing.\n             */\n            redirect = function(url) {\n                window.location = url;\n            };\n\n            /**\n             * Reloads the page. This is broken out as its own function for unit testing.\n             */\n            reload = function() {\n                window.location.reload();\n            };\n\n            /**\n             * Returns true if a model has changes to at least one of the specified attributes.\n             * @param model The model in question.\n             * @param attributes The list of attributes to be compared.\n             * @returns {boolean} Returns true if attribute changes are found.\n             */\n            hasChangedAttributes = function(model, attributes) {\n                var i,\n                    changedAttributes = model.changedAttributes();\n                if (!changedAttributes) {\n                    return false;\n                }\n                for (i = 0; i < attributes.length; i++) {\n                    if (_.has(changedAttributes, attributes[i])) {\n                        return true;\n                    }\n                }\n                return false;\n            };\n\n            /**\n             * Helper method for course/library creation - verifies a required field is not blank.\n             */\n            validateRequiredField = function(msg) {\n                return msg.length === 0 ? gettext('Required field.') : '';\n            };\n\n            /**\n             * Helper method for course/library creation.\n             * Check that a course (org, number, run) doesn't use any special characters\n             */\n            validateURLItemEncoding = function(item, allowUnicode) {\n                var required = validateRequiredField(item);\n                if (required) {\n                    return required;\n                }\n                if (allowUnicode) {\n                    if (/\\s/g.test(item)) {\n                        return gettext('Please do not use any spaces in this field.');\n                    }\n                } else {\n                    if (item !== encodeURIComponent(item) || item.match(/[!'()*]/)) {\n                        return gettext('Please do not use any spaces or special characters in this field.');\n                    }\n                }\n                return '';\n            };\n\n            // Ensure that sum length of key field values <= ${MAX_SUM_KEY_LENGTH} chars.\n            validateTotalKeyLength = function(key_field_selectors) {\n                var totalLength = _.reduce(\n                    key_field_selectors,\n                    function(sum, ele) { return sum + $(ele).val().length; },\n                    0\n                );\n                return totalLength <= MAX_SUM_KEY_LENGTH;\n            };\n\n            checkTotalKeyLengthViolations = function(selectors, classes, key_field_selectors, message_tpl) {\n                if (!validateTotalKeyLength(key_field_selectors)) {\n                    $(selectors.errorWrapper).addClass(classes.shown).removeClass(classes.hiding);\n                    $(selectors.errorMessage).html(\n                        '<p>' + _.template(message_tpl)({limit: MAX_SUM_KEY_LENGTH}) + '</p>'\n                    );\n                    $(selectors.save).addClass(classes.disabled);\n                } else {\n                    $(selectors.errorWrapper).removeClass(classes.shown).addClass(classes.hiding);\n                }\n            };\n\n            /**\n             * Dynamically loads the specified JavaScript file.\n             * @param url The URL to a JavaScript file.\n             * @returns {Promise} A promise indicating when the URL has been loaded.\n             */\n            loadJavaScript = function(url) {\n                var deferred = $.Deferred();\n                require([url],\n                    function() {\n                        deferred.resolve();\n                    },\n                    function() {\n                        deferred.reject();\n                    });\n                return deferred.promise();\n            };\n\n            return {\n                toggleExpandCollapse: toggleExpandCollapse,\n                showLoadingIndicator: showLoadingIndicator,\n                hideLoadingIndicator: hideLoadingIndicator,\n                confirmThenRunOperation: confirmThenRunOperation,\n                runOperationShowingMessage: runOperationShowingMessage,\n                withDisabledElement: withDisabledElement,\n                disableElementWhileRunning: disableElementWhileRunning,\n                deleteNotificationHandler: deleteNotificationHandler,\n                setScrollTop: setScrollTop,\n                getScrollOffset: getScrollOffset,\n                setScrollOffset: setScrollOffset,\n                redirect: redirect,\n                reload: reload,\n                hasChangedAttributes: hasChangedAttributes,\n                validateRequiredField: validateRequiredField,\n                validateURLItemEncoding: validateURLItemEncoding,\n                validateTotalKeyLength: validateTotalKeyLength,\n                checkTotalKeyLengthViolations: checkTotalKeyLengthViolations,\n                loadJavaScript: loadJavaScript\n            };\n        });\n\n\n\n\n// WEBPACK FOOTER //\n// ./common/static/common/js/components/utils/view_utils.js","\n    'use strict';\n    define(['jquery', 'underscore', 'underscore.string', 'common/js/components/views/feedback'],\n        function($, _, str, SystemFeedbackView) {\n            var Prompt = SystemFeedbackView.extend({\n                options: $.extend({}, SystemFeedbackView.prototype.options, {\n                    type: 'prompt',\n                    closeIcon: false,\n                    icon: false\n                }),\n                render: function() {\n                    if (!window.$body) { window.$body = $(document.body); }\n                    if (this.options.shown) {\n                        $body.addClass('prompt-is-shown');\n                    } else {\n                        $body.removeClass('prompt-is-shown');\n                    }\n                    // super() in Javascript has awkward syntax :(\n                    return SystemFeedbackView.prototype.render.apply(this, arguments);\n                },\n                show: function() {\n                    SystemFeedbackView.prototype.show.apply(this, arguments);\n                    return this.inFocus();\n                },\n\n                hide: function() {\n                    SystemFeedbackView.prototype.hide.apply(this, arguments);\n                    return this.outFocus();\n                }\n            });\n\n            // create Prompt.Warning, Prompt.Confirmation, etc\n            var capitalCamel, intents;\n            capitalCamel = _.compose(str.capitalize, str.camelize);\n            intents = ['warning', 'error', 'confirmation', 'announcement', 'step-required', 'help', 'mini'];\n            _.each(intents, function(intent) {\n                var subclass;\n                subclass = Prompt.extend({\n                    options: $.extend({}, Prompt.prototype.options, {\n                        intent: intent\n                    })\n                });\n                Prompt[capitalCamel(intent)] = subclass;\n            });\n\n            return Prompt;\n        });\n\n\n\n\n// WEBPACK FOOTER //\n// ./common/static/common/js/components/views/feedback_prompt.js","define([], function() {\n    'use strict';\n\n    return function invokePageFactory(name, factory) {\n        var args;\n\n        if (typeof window.pageFactoryArguments === 'undefined') {\n            throw Error(\n                'window.pageFactoryArguments must be initialized before calling invokePageFactory(' +\n                name +\n                '). Use the <%static:invoke_page_bundle> template tag.'\n            );\n        }\n        args = window.pageFactoryArguments[name];\n\n        if (typeof args === 'undefined') {\n            throw Error(\n                'window.pageFactoryArguments[\"' +\n                name +\n                '\"] must be initialized before calling invokePageFactory(' +\n                name +\n                '). Use the <%static:invoke_page_bundle> template tag.'\n            );\n        }\n        factory.apply(null, window.pageFactoryArguments[name]);\n    };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./common/static/common/js/utils/page_factory.js","/*\n\n============================================\nLicense for Application\n============================================\n\nThis license is governed by United States copyright law, and with respect to matters\nof tort, contract, and other causes of action it is governed by North Carolina law,\nwithout regard to North Carolina choice of law provisions.  The forum for any dispute\nresolution shall be in Wake County, North Carolina.\n\nRedistribution and use in source and binary forms, with or without modification, are\npermitted provided that the following conditions are met:\n\n1. Redistributions of source code must retain the above copyright notice, this list\n   of conditions and the following disclaimer.\n\n2. Redistributions in binary form must reproduce the above copyright notice, this\n   list of conditions and the following disclaimer in the documentation and/or other\n   materials provided with the distribution.\n\n3. The name of the author may not be used to endorse or promote products derived from\n   this software without specific prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE AUTHOR \"AS IS\" AND ANY EXPRESS OR IMPLIED\nWARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE AUTHOR BE\nLIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\nDAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\nLOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\nNEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\nADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\n*/\n\nvar $focusedElementBeforeModal,\n    focusableElementsString = 'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]';\n\nvar reassignTabIndexesAndAriaHidden = function(focusableElementsFilterString, closeButtonId, modalId, mainPageId) {\n    // Sets appropriate elements to tab indexable and properly sets aria_hidden on content outside of modal\n    // \"focusableElementsFilterString\" is a string that indicates all elements that should be focusable\n    // \"closeButtonId\" is the selector for the button that closes out the modal.\n    // \"modalId\" is the selector for the modal being managed\n    // \"mainPageId\" is the selector for the main part of the page\n    // Returns a list of focusableItems\n    var focusableItems;\n\n    $(mainPageId).attr('aria-hidden', 'true');\n    $(modalId).attr('aria-hidden', 'false');\n\n    focusableItems = $(modalId).find('*')\n        .filter(focusableElementsFilterString)\n        .filter(':visible');\n\n    focusableItems.attr('tabindex', '2');\n    $(closeButtonId).attr('tabindex', '1').focus();\n\n    return focusableItems;\n};\n\nvar trapTabFocus = function(focusableItems, closeButtonId) {\n    // Determines last element in modal and traps focus by causing tab\n    // to focus on the first modal element (close button)\n    // \"focusableItems\" all elements in the modal that are focusable\n    // \"closeButtonId\" is the selector for the button that closes out the modal.\n    // returns the last focusable element in the modal.\n    var $last;\n    if (focusableItems.length !== 0) {\n        $last = focusableItems.last();\n    } else {\n        $last = $(closeButtonId);\n    }\n\n    // tab on last element in modal returns to the first one\n    $last.on('keydown', function(e) {\n        var keyCode = e.keyCode || e.which;\n        // 9 is the js keycode for tab\n        if (!e.shiftKey && keyCode === 9) {\n            e.preventDefault();\n            $(closeButtonId).focus();\n        }\n    });\n\n    return $last;\n};\n\nvar trapShiftTabFocus = function($last, closeButtonId) {\n    $(closeButtonId).on('keydown', function(e) {\n        var keyCode = e.keyCode || e.which;\n        // 9 is the js keycode for tab\n        if (e.shiftKey && keyCode === 9) {\n            e.preventDefault();\n            $last.focus();\n        }\n    });\n};\n\nvar bindReturnFocusListener = function($previouslyFocusedElement, closeButtonId, modalId, mainPageId) {\n    // Ensures that on modal close, focus is returned to the element\n    // that had focus before the modal was opened.\n    $('#lean_overlay, ' + closeButtonId).click(function() {\n        $(mainPageId).attr('aria-hidden', 'false');\n        $(modalId).attr('aria-hidden', 'true');\n        $previouslyFocusedElement.focus();\n    });\n};\n\nvar bindEscapeKeyListener = function(modalId, closeButtonId) {\n    $(modalId).on('keydown', function(e) {\n        var keyCode = e.keyCode || e.which;\n        // 27 is the javascript keycode for the ESC key\n        if (keyCode === 27) {\n            e.preventDefault();\n            $(closeButtonId).click();\n        }\n    });\n};\n\nvar trapFocusForAccessibleModal = function(\n    $previouslyFocusedElement,\n    focusableElementsFilterString,\n    closeButtonId,\n    modalId,\n    mainPageId) {\n    // Re assess the page for which items internal to the modal should be focusable,\n    // Should be called after the content of the accessible_modal is changed in order\n    // to ensure that the correct elements are accessible.\n    var focusableItems, $last;\n    focusableItems = reassignTabIndexesAndAriaHidden(\n      focusableElementsFilterString,\n      closeButtonId,\n      modalId,\n      mainPageId\n    );\n    $last = trapTabFocus(focusableItems, closeButtonId);\n    trapShiftTabFocus($last, closeButtonId);\n    bindReturnFocusListener($previouslyFocusedElement, closeButtonId, modalId, mainPageId);\n    bindEscapeKeyListener(modalId, closeButtonId);\n};\n\nvar accessible_modal = function(trigger, closeButtonId, modalId, mainPageId) {\n  // Modifies a lean modal to optimize focus management.\n  // \"trigger\" is the selector for the link element that triggers the modal.\n  // \"closeButtonId\" is the selector for the button that closes out the modal.\n  // \"modalId\" is the selector for the modal being managed\n  // \"mainPageId\" is the selector for the main part of the page\n  //\n  // based on http://accessibility.oit.ncsu.edu/training/aria/modal-window/modal-window.js\n  //\n  // see http://accessibility.oit.ncsu.edu/blog/2013/09/13/the-incredible-accessible-modal-dialog/\n  // for more information on managing modals\n  //\n    var initialFocus\n    $(trigger).click(function() {\n        $focusedElementBeforeModal = $(trigger);\n\n        trapFocusForAccessibleModal(\n            $focusedElementBeforeModal,\n            focusableElementsString,\n            closeButtonId,\n            modalId,\n            mainPageId\n        );\n\n        // In IE, focus shifts to iframes when they load.\n        // These lines ensure that focus is shifted back to the close button\n        // in the case that a modal that contains an iframe is opened in IE.\n        // see http://stackoverflow.com/questions/15792620/\n        initialFocus = true;\n        $(modalId).find('iframe').on('focus', function() {\n            if (initialFocus) {\n                $(closeButtonId).focus();\n                initialFocus = false;\n            }\n        });\n    });\n};\n\n// NOTE: This is a gross hack to make the skip links work for Webkit browsers\n// see http://stackoverflow.com/questions/6280399/skip-links-not-working-in-chrome/12720183#12720183\n\n// handle things properly for clicks\n$('.nav-skip').click(function() {\n    var href = $(this).attr('href');\n    if (href) {\n        $(href).attr('tabIndex', -1).focus();\n    }\n});\n// and for the enter key\n$('.nav-skip').keypress(function(e) {\n    var href;\n    if (e.which === 13) {\n        href = $(this).attr('href');\n        if (href) {\n            $(href).attr('tabIndex', -1).focus();\n        }\n    }\n});\n\n// Creates a window level SR object that can be used for giving audible feedback to screen readers.\n$(function() {\n    var SRAlert;\n\n    SRAlert = (function() {\n        function SRAlert() {\n            // This initialization sometimes gets done twice, so take to only create a single reader-feedback div.\n            var readerFeedbackID = 'reader-feedback',\n                $readerFeedbackSelector = $('#' + readerFeedbackID);\n\n            if ($readerFeedbackSelector.length === 0) {\n                edx.HtmlUtils.append(\n                    $('body'),\n                    edx.HtmlUtils.interpolateHtml(\n                        edx.HtmlUtils.HTML('<div id=\"{readerFeedbackID}\" class=\"sr\" aria-live=\"polite\"></div>'),\n                        {readerFeedbackID: readerFeedbackID}\n                    )\n                );\n            }\n            this.el = $('#' + readerFeedbackID);\n        }\n\n        SRAlert.prototype.clear = function() {\n            edx.HtmlUtils.setHtml(this.el, '');\n        };\n\n        SRAlert.prototype.readElts = function(elts) {\n            var texts = [];\n            $.each(elts, function(idx, value) {\n                texts.push($(value).html());\n            });\n            return this.readTexts(texts);\n        };\n\n        SRAlert.prototype.readText = function(text) {\n            return this.readTexts([text]);\n        };\n\n        SRAlert.prototype.readTexts = function(texts) {\n            var htmlFeedback = edx.HtmlUtils.HTML('');\n            $.each(texts, function(idx, value) {\n                htmlFeedback = edx.HtmlUtils.interpolateHtml(\n                    edx.HtmlUtils.HTML('{previous_feedback}<p>{value}</p>\\n'),\n                    // \"value\" may be HTML, if an element is being passed\n                    {previous_feedback: htmlFeedback, value: edx.HtmlUtils.HTML(value)}\n                );\n            });\n            edx.HtmlUtils.setHtml(this.el, htmlFeedback);\n        };\n\n        return SRAlert;\n    }());\n\n    window.SR = new SRAlert();\n});\n\n\n\n// WEBPACK FOOTER //\n// ./common/static/js/src/accessibility_tools.js","/*\n * This file is used for keeping compatibility with Internet Explorer.\n * As starting with IE10, the conditional comments are not supported, this file\n * will always be loaded whether the browser is IE or not. Therefore, the code\n * here should not make any assumption and should always detect the execution\n * conditions itself.\n */\n\n// Shim name: Create the attribute of 'window.location.origin'\n// IE version: 11 or earlier, 12 or later not tested\n// Internet Explorer does not have built-in property 'window.location.origin',\n// we need to create one here as some vendor code such as TinyMCE uses this.\nif (!window.location.origin) {\n    window.location.origin = window.location.protocol + '//' + window.location.hostname\n                           + (window.location.port ? ':' + window.location.port : '');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./common/static/js/src/ie_shim.js","var Language = (function() {\n    'use strict';\n    var $settings_language_selector,\n        self = null;\n    return {\n        init: function() {\n            $settings_language_selector = $('#settings-language-value');\n            self = this;\n            this.listenForLanguagePreferenceChange();\n        },\n\n            /**\n             * Listener on changing language from selector.\n             * Send an ajax request to save user language preferences.\n             */\n        listenForLanguagePreferenceChange: function() {\n            $settings_language_selector.change(function(event) {\n                var language = this.value,\n                    url = $('.url-endpoint').val(),\n                    is_user_authenticated = JSON.parse($('.url-endpoint').data('user-is-authenticated'));\n                event.preventDefault();\n                self.submitAjaxRequest(language, url, function() {\n                    if (is_user_authenticated) {\n                            // User language preference has been set successfully\n                            // Now submit the form in success callback.\n                        $('#language-settings-form').submit();\n                    } else {\n                        self.refresh();\n                    }\n                });\n            });\n        },\n\n            /**\n             * Send an ajax request to set user language preferences.\n             */\n        submitAjaxRequest: function(language, url, callback) {\n            $.ajax({\n                type: 'PATCH',\n                data: JSON.stringify({'pref-lang': language}),\n                url: url,\n                dataType: 'json',\n                contentType: 'application/merge-patch+json',\n                notifyOnError: false,\n                beforeSend: function(xhr) {\n                    xhr.setRequestHeader('X-CSRFToken', $.cookie('csrftoken'));\n                }\n            }).done(function() {\n                callback();\n            }).fail(function() {\n                self.refresh();\n            });\n        },\n\n            /**\n             * refresh the page.\n             */\n        refresh: function() {\n                // reloading the page so we can get the latest state of released languages from model\n            location.reload();\n        }\n\n    };\n}());\n$(document).ready(function() {\n    'use strict';\n    Language.init();\n});\n\n\n\n// WEBPACK FOOTER //\n// ./common/static/js/src/lang_edx.js","(function() {\n    'use strict';\n    var Logger = (function() {\n        // listeners[event_type][element] -> list of callbacks\n        var listeners = {},\n            sendRequest, has;\n\n        sendRequest = function(data, options) {\n            var request = $.ajaxWithPrefix ? $.ajaxWithPrefix : $.ajax;\n\n            options = $.extend(true, {\n                url: '/event',\n                type: 'POST',\n                data: data,\n                async: true\n            }, options);\n            return request(options);\n        };\n\n        has = function(object, propertyName) {\n            return {}.hasOwnProperty.call(object, propertyName);\n        };\n\n        return {\n            /**\n             * Emits an event.\n             *\n             * Note that this method is used by external XBlocks, and the API cannot change without\n             * proper deprecation and notification for external authors.\n             */\n            log: function(eventType, data, element, requestOptions) {\n                var callbacks;\n\n                if (!element) {\n                    // null element in the listener dictionary means any element will do.\n                    // null element in the Logger.log call means we don't know the element name.\n                    element = null;\n                }\n                // Check to see if we're listening for the event type.\n                if (has(listeners, eventType)) {\n                    if (has(listeners[eventType], element)) {\n                        // Make the callbacks.\n                        callbacks = listeners[eventType][element];\n                        $.each(callbacks, function(index, callback) {\n                            try {\n                                callback(eventType, data, element);\n                            } catch (err) {\n                                console.error({\n                                    eventType: eventType,\n                                    data: data,\n                                    element: element,\n                                    error: err\n                                });\n                            }\n                        });\n                    }\n                }\n                // Regardless of whether any callbacks were made, log this event.\n                return sendRequest({\n                    event_type: eventType,\n                    event: JSON.stringify(data),\n                    page: window.location.href\n                }, requestOptions);\n            },\n\n            /**\n             * Adds a listener. If you want any element to trigger this listener,\n             * do element = null.\n             *\n             * Note that this method is used by external XBlocks, and the API cannot change without\n             * proper deprecation and notification for external authors.\n             */\n            listen: function(eventType, element, callback) {\n                listeners[eventType] = listeners[eventType] || {};\n                listeners[eventType][element] = listeners[eventType][element] || [];\n                listeners[eventType][element].push(callback);\n            },\n\n            /**\n             * Binds `page_close` event.\n             *\n             * Note that this method is used by external XBlocks, and the API cannot change without\n             * proper deprecation and notification for external authors.\n             */\n            bind: function() {\n                window.onunload = function() {\n                    sendRequest({\n                        event_type: 'page_close',\n                        event: '',\n                        page: window.location.href\n                    }, {type: 'GET', async: false});\n                };\n            }\n        };\n    }());\n\n    this.Logger = Logger;\n    // log_event exists for compatibility reasons and will soon be deprecated.\n    this.log_event = Logger.log;\n}).call(this);\n\n\n\n// WEBPACK FOOTER //\n// ./common/static/js/src/logger.js","(function() {\n    'use strict';\n    var TooltipManager = function(element) {\n        this.element = $(element);\n        // If tooltip container already exist, use it.\n        this.tooltip = $('div.' + this.className.split(/\\s+/).join('.'));\n        // Otherwise, create new one.\n        if (!this.tooltip.length) {\n            this.tooltip = $('<div />', {\n                class: this.className\n            }).appendTo(this.element);\n        }\n\n        this.hide();\n        _.bindAll(this, 'show', 'hide', 'showTooltip', 'moveTooltip', 'hideTooltip', 'click');\n        this.bindEvents();\n    };\n\n    TooltipManager.prototype = {\n        // Space separated list of class names for the tooltip container.\n        className: 'tooltip',\n        SELECTOR: '[data-tooltip]',\n\n        bindEvents: function() {\n            this.element.on({\n                'mouseover.TooltipManager': this.showTooltip,\n                'mousemove.TooltipManager': this.moveTooltip,\n                'mouseout.TooltipManager': this.hideTooltip,\n                'click.TooltipManager': this.click\n            }, this.SELECTOR);\n        },\n\n        getCoords: function(pageX, pageY) {\n            return {\n                left: pageX - 0.5 * this.tooltip.outerWidth(),\n                top: pageY - (this.tooltip.outerHeight() + 15)\n            };\n        },\n\n        show: function() {\n            this.tooltip.show().css('opacity', 1);\n        },\n\n        hide: function() {\n            this.tooltip.hide().css('opacity', 0);\n        },\n\n        showTooltip: function(event) {\n            this.prepareTooltip(event.currentTarget, event.pageX, event.pageY);\n            if (this.tooltipTimer) {\n                clearTimeout(this.tooltipTimer);\n            }\n            this.tooltipTimer = setTimeout(this.show, 500);\n        },\n\n        prepareTooltip: function(element, pageX, pageY) {\n            pageX = typeof pageX !== 'undefined' ? pageX : element.offset().left + element.width() / 2;\n            pageY = typeof pageY !== 'undefined' ? pageY : element.offset().top + element.height() / 2;\n            var tooltipText = $(element).attr('data-tooltip');\n            this.tooltip\n                .html(tooltipText)\n                .css(this.getCoords(pageX, pageY));\n        },\n\n        // To manually trigger a tooltip to reveal, other than through user mouse movement:\n        openTooltip: function(element) {\n            this.prepareTooltip(element);\n            this.show();\n            if (this.tooltipTimer) {\n                clearTimeout(this.tooltipTimer);\n            }\n        },\n\n        moveTooltip: function(event) {\n            this.tooltip.css(this.getCoords(event.pageX, event.pageY));\n        },\n\n        hideTooltip: function() {\n            clearTimeout(this.tooltipTimer);\n            // Wait for a 50ms before hiding the tooltip to avoid blinking when\n            // the item contains nested elements.\n            this.tooltipTimer = setTimeout(this.hide, 50);\n        },\n\n        click: function(event) {\n            var showOnClick = !!$(event.currentTarget).data('tooltip-show-on-click'); // Default is false\n            if (showOnClick) {\n                this.show();\n                if (this.tooltipTimer) {\n                    clearTimeout(this.tooltipTimer);\n                }\n            } else {\n                this.hideTooltip(event);\n            }\n        },\n\n        destroy: function() {\n            this.tooltip.remove();\n            // Unbind all delegated event handlers in the \".TooltipManager\"\n            // namespace.\n            this.element.off('.TooltipManager', this.SELECTOR);\n        }\n    };\n\n    window.TooltipManager = TooltipManager;\n    $(document).ready(function() {\n        window.globalTooltipManager = new TooltipManager(document.body);\n    });\n}());\n\n\n\n// WEBPACK FOOTER //\n// ./common/static/js/src/tooltip_manager.js","// checks whether or not the url is external to the local site.\n// generously provided by StackOverflow: http://stackoverflow.com/questions/6238351/fastest-way-to-detect-external-urls\nwindow.isExternal = function(url) {\n    // parse the url into protocol, host, path, query, and fragment. More information can be found here: http://tools.ietf.org/html/rfc3986#appendix-B\n    var match = url.match(/^([^:\\/?#]+:)?(?:\\/\\/([^\\/?#]*))?([^?#]+)?(\\?[^#]*)?(#.*)?/);\n    // match[1] matches a protocol if one exists in the url\n    // if the protocol in the url does not match the protocol in the window's location, this url is considered external\n    if (typeof match[1] === 'string' &&\n            match[1].length > 0 &&\n            match[1].toLowerCase() !== location.protocol) { return true; }\n    // match[2] matches the host if one exists in the url\n    // if the host in the url does not match the host of the window location, this url is considered external\n    if (typeof match[2] === 'string' &&\n            match[2].length > 0 &&\n            // this regex removes the port number if it patches the current location's protocol\n            match[2].replace(new RegExp(':(' + {'http:': 80, 'https:': 443}[location.protocol] + ')?$'), '') !== location.host) { return true; }\n    return false;\n};\n\n// Utility method for replacing a portion of a string.\nwindow.rewriteStaticLinks = function(content, from, to) {\n    if (from === null || to === null) {\n        return content;\n    }\n    // replace only relative urls\n    function replacer(match) {\n        if (match === from) {\n            return to;\n        } else {\n            return match;\n        }\n    }\n    // change all relative urls only which may be embedded inside other tags in content.\n    // handle http and https\n    // escape all regex interpretable chars\n    fromRe = from.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n    var regex = new RegExp('(https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}([-a-zA-Z0-9@:%_\\+.~#?&//=]*))?' + fromRe, 'g');\n    return content.replace(regex, replacer);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./common/static/js/src/utility.js","/**\n * @version: 1.0 Alpha-1\n * @author: Coolite Inc. http://www.coolite.com/\n * @date: 2008-05-13\n * @copyright: Copyright (c) 2006-2008, Coolite Inc. (http://www.coolite.com/). All rights reserved.\n * @license: Licensed under The MIT License. See license.txt and http://www.datejs.com/license/.\n * @website: http://www.datejs.com/\n */\nDate.CultureInfo={name:\"en-US\",englishName:\"English (United States)\",nativeName:\"English (United States)\",dayNames:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],abbreviatedDayNames:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],shortestDayNames:[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"],firstLetterDayNames:[\"S\",\"M\",\"T\",\"W\",\"T\",\"F\",\"S\"],monthNames:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],abbreviatedMonthNames:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],amDesignator:\"AM\",pmDesignator:\"PM\",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:\"mdy\",formatPatterns:{shortDate:\"M/d/yyyy\",longDate:\"dddd, MMMM dd, yyyy\",shortTime:\"h:mm tt\",longTime:\"h:mm:ss tt\",fullDateTime:\"dddd, MMMM dd, yyyy h:mm:ss tt\",sortableDateTime:\"yyyy-MM-ddTHH:mm:ss\",universalSortableDateTime:\"yyyy-MM-dd HH:mm:ssZ\",rfc1123:\"ddd, dd MMM yyyy HH:mm:ss GMT\",monthDay:\"MMMM dd\",yearMonth:\"MMMM, yyyy\"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\\+|aft(er)?|from|hence)/i,subtract:/^(\\-|bef(ore)?|ago)/i,yesterday:/^yes(terday)?/i,today:/^t(od(ay)?)?/i,tomorrow:/^tom(orrow)?/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^mn|min(ute)?s?/i,hour:/^h(our)?s?/i,week:/^w(eek)?s?/i,month:/^m(onth)?s?/i,day:/^d(ay)?s?/i,year:/^y(ear)?s?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\\.?m?\\.?|p\\.?m?\\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\\s*(\\+|\\-)\\s*\\d\\d\\d\\d?)|gmt|utc)/i,ordinalSuffix:/^\\s*(st|nd|rd|th)/i,timeContext:/^\\s*(\\:|a(?!u|p)|p)/i},timezones:[{name:\"UTC\",offset:\"-000\"},{name:\"GMT\",offset:\"-000\"},{name:\"EST\",offset:\"-0500\"},{name:\"EDT\",offset:\"-0400\"},{name:\"CST\",offset:\"-0600\"},{name:\"CDT\",offset:\"-0500\"},{name:\"MST\",offset:\"-0700\"},{name:\"MDT\",offset:\"-0600\"},{name:\"PST\",offset:\"-0800\"},{name:\"PDT\",offset:\"-0700\"}]};\n(function(){var $D=Date,$P=$D.prototype,$C=$D.CultureInfo,p=function(s,l){if(!l){l=2;}\nreturn(\"000\"+s).slice(l*-1);};$P.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this;};$P.setTimeToNow=function(){var n=new Date();this.setHours(n.getHours());this.setMinutes(n.getMinutes());this.setSeconds(n.getSeconds());this.setMilliseconds(n.getMilliseconds());return this;};$D.today=function(){return new Date().clearTime();};$D.compare=function(date1,date2){if(isNaN(date1)||isNaN(date2)){throw new Error(date1+\" - \"+date2);}else if(date1 instanceof Date&&date2 instanceof Date){return(date1<date2)?-1:(date1>date2)?1:0;}else{throw new TypeError(date1+\" - \"+date2);}};$D.equals=function(date1,date2){return(date1.compareTo(date2)===0);};$D.getDayNumberFromName=function(name){var n=$C.dayNames,m=$C.abbreviatedDayNames,o=$C.shortestDayNames,s=name.toLowerCase();for(var i=0;i<n.length;i++){if(n[i].toLowerCase()==s||m[i].toLowerCase()==s||o[i].toLowerCase()==s){return i;}}\nreturn-1;};$D.getMonthNumberFromName=function(name){var n=$C.monthNames,m=$C.abbreviatedMonthNames,s=name.toLowerCase();for(var i=0;i<n.length;i++){if(n[i].toLowerCase()==s||m[i].toLowerCase()==s){return i;}}\nreturn-1;};$D.isLeapYear=function(year){return((year%4===0&&year%100!==0)||year%400===0);};$D.getDaysInMonth=function(year,month){return[31,($D.isLeapYear(year)?29:28),31,30,31,30,31,31,30,31,30,31][month];};$D.getTimezoneAbbreviation=function(offset){var z=$C.timezones,p;for(var i=0;i<z.length;i++){if(z[i].offset===offset){return z[i].name;}}\nreturn null;};$D.getTimezoneOffset=function(name){var z=$C.timezones,p;for(var i=0;i<z.length;i++){if(z[i].name===name.toUpperCase()){return z[i].offset;}}\nreturn null;};$P.clone=function(){return new Date(this.getTime());};$P.compareTo=function(date){return Date.compare(this,date);};$P.equals=function(date){return Date.equals(this,date||new Date());};$P.between=function(start,end){return this.getTime()>=start.getTime()&&this.getTime()<=end.getTime();};$P.isAfter=function(date){return this.compareTo(date||new Date())===1;};$P.isBefore=function(date){return(this.compareTo(date||new Date())===-1);};$P.isToday=function(){return this.isSameDay(new Date());};$P.isSameDay=function(date){return this.clone().clearTime().equals(date.clone().clearTime());};$P.addMilliseconds=function(value){this.setMilliseconds(this.getMilliseconds()+value);return this;};$P.addSeconds=function(value){return this.addMilliseconds(value*1000);};$P.addMinutes=function(value){return this.addMilliseconds(value*60000);};$P.addHours=function(value){return this.addMilliseconds(value*3600000);};$P.addDays=function(value){this.setDate(this.getDate()+value);return this;};$P.addWeeks=function(value){return this.addDays(value*7);};$P.addMonths=function(value){var n=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+value);this.setDate(Math.min(n,$D.getDaysInMonth(this.getFullYear(),this.getMonth())));return this;};$P.addYears=function(value){return this.addMonths(value*12);};$P.add=function(config){if(typeof config==\"number\"){this._orient=config;return this;}\nvar x=config;if(x.milliseconds){this.addMilliseconds(x.milliseconds);}\nif(x.seconds){this.addSeconds(x.seconds);}\nif(x.minutes){this.addMinutes(x.minutes);}\nif(x.hours){this.addHours(x.hours);}\nif(x.weeks){this.addWeeks(x.weeks);}\nif(x.months){this.addMonths(x.months);}\nif(x.years){this.addYears(x.years);}\nif(x.days){this.addDays(x.days);}\nreturn this;};var $y,$m,$d;$P.getWeek=function(){var a,b,c,d,e,f,g,n,s,w;$y=(!$y)?this.getFullYear():$y;$m=(!$m)?this.getMonth()+1:$m;$d=(!$d)?this.getDate():$d;if($m<=2){a=$y-1;b=(a/4|0)-(a/100|0)+(a/400|0);c=((a-1)/4|0)-((a-1)/100|0)+((a-1)/400|0);s=b-c;e=0;f=$d-1+(31*($m-1));}else{a=$y;b=(a/4|0)-(a/100|0)+(a/400|0);c=((a-1)/4|0)-((a-1)/100|0)+((a-1)/400|0);s=b-c;e=s+1;f=$d+((153*($m-3)+2)/5)+58+s;}\ng=(a+b)%7;d=(f+g-e)%7;n=(f+3-d)|0;if(n<0){w=53-((g-s)/5|0);}else if(n>364+s){w=1;}else{w=(n/7|0)+1;}\n$y=$m=$d=null;return w;};$P.getISOWeek=function(){$y=this.getUTCFullYear();$m=this.getUTCMonth()+1;$d=this.getUTCDate();return p(this.getWeek());};$P.setWeek=function(n){return this.moveToDayOfWeek(1).addWeeks(n-this.getWeek());};$D._validate=function(n,min,max,name){if(typeof n==\"undefined\"){return false;}else if(typeof n!=\"number\"){throw new TypeError(n+\" is not a Number.\");}else if(n<min||n>max){throw new RangeError(n+\" is not a valid value for \"+name+\".\");}\nreturn true;};$D.validateMillisecond=function(value){return $D._validate(value,0,999,\"millisecond\");};$D.validateSecond=function(value){return $D._validate(value,0,59,\"second\");};$D.validateMinute=function(value){return $D._validate(value,0,59,\"minute\");};$D.validateHour=function(value){return $D._validate(value,0,23,\"hour\");};$D.validateDay=function(value,year,month){return $D._validate(value,1,$D.getDaysInMonth(year,month),\"day\");};$D.validateMonth=function(value){return $D._validate(value,0,11,\"month\");};$D.validateYear=function(value){return $D._validate(value,0,9999,\"year\");};$P.set=function(config){if($D.validateMillisecond(config.millisecond)){this.addMilliseconds(config.millisecond-this.getMilliseconds());}\nif($D.validateSecond(config.second)){this.addSeconds(config.second-this.getSeconds());}\nif($D.validateMinute(config.minute)){this.addMinutes(config.minute-this.getMinutes());}\nif($D.validateHour(config.hour)){this.addHours(config.hour-this.getHours());}\nif($D.validateMonth(config.month)){this.addMonths(config.month-this.getMonth());}\nif($D.validateYear(config.year)){this.addYears(config.year-this.getFullYear());}\nif($D.validateDay(config.day,this.getFullYear(),this.getMonth())){this.addDays(config.day-this.getDate());}\nif(config.timezone){this.setTimezone(config.timezone);}\nif(config.timezoneOffset){this.setTimezoneOffset(config.timezoneOffset);}\nif(config.week&&$D._validate(config.week,0,53,\"week\")){this.setWeek(config.week);}\nreturn this;};$P.moveToFirstDayOfMonth=function(){return this.set({day:1});};$P.moveToLastDayOfMonth=function(){return this.set({day:$D.getDaysInMonth(this.getFullYear(),this.getMonth())});};$P.moveToNthOccurrence=function(dayOfWeek,occurrence){var shift=0;if(occurrence>0){shift=occurrence-1;}\nelse if(occurrence===-1){this.moveToLastDayOfMonth();if(this.getDay()!==dayOfWeek){this.moveToDayOfWeek(dayOfWeek,-1);}\nreturn this;}\nreturn this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(dayOfWeek,+1).addWeeks(shift);};$P.moveToDayOfWeek=function(dayOfWeek,orient){var diff=(dayOfWeek-this.getDay()+7*(orient||+1))%7;return this.addDays((diff===0)?diff+=7*(orient||+1):diff);};$P.moveToMonth=function(month,orient){var diff=(month-this.getMonth()+12*(orient||+1))%12;return this.addMonths((diff===0)?diff+=12*(orient||+1):diff);};$P.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-new Date(this.getFullYear(),0,1))/86400000)+1;};$P.getTimezone=function(){return $D.getTimezoneAbbreviation(this.getUTCOffset());};$P.setTimezoneOffset=function(offset){var here=this.getTimezoneOffset(),there=Number(offset)*-6/10;return this.addMinutes(there-here);};$P.setTimezone=function(offset){return this.setTimezoneOffset($D.getTimezoneOffset(offset));};$P.hasDaylightSavingTime=function(){return(Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset());};$P.isDaylightSavingTime=function(){return(this.hasDaylightSavingTime()&&new Date().getTimezoneOffset()===Date.today().set({month:6,day:1}).getTimezoneOffset());};$P.getUTCOffset=function(){var n=this.getTimezoneOffset()*-10/6,r;if(n<0){r=(n-10000).toString();return r.charAt(0)+r.substr(2);}else{r=(n+10000).toString();return\"+\"+r.substr(1);}};$P.getElapsed=function(date){return(date||new Date())-this;};if(!$P.toISOString){$P.toISOString=function(){function f(n){return n<10?'0'+n:n;}\nreturn'\"'+this.getUTCFullYear()+'-'+\nf(this.getUTCMonth()+1)+'-'+\nf(this.getUTCDate())+'T'+\nf(this.getUTCHours())+':'+\nf(this.getUTCMinutes())+':'+\nf(this.getUTCSeconds())+'Z\"';};}\nif(typeof $P._toString === 'undefined'){$P._toString=$P.toString;}$P.toString=function(format){var x=this;if(format&&format.length==1){var c=$C.formatPatterns;x.t=x.toString;switch(format){case\"d\":return x.t(c.shortDate);case\"D\":return x.t(c.longDate);case\"F\":return x.t(c.fullDateTime);case\"m\":return x.t(c.monthDay);case\"r\":return x.t(c.rfc1123);case\"s\":return x.t(c.sortableDateTime);case\"t\":return x.t(c.shortTime);case\"T\":return x.t(c.longTime);case\"u\":return x.t(c.universalSortableDateTime);case\"y\":return x.t(c.yearMonth);}}\nvar ord=function(n){switch(n*1){case 1:case 21:case 31:return\"st\";case 2:case 22:return\"nd\";case 3:case 23:return\"rd\";default:return\"th\";}};return format?format.replace(/(\\\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S)/g,function(m){if(m.charAt(0)===\"\\\\\"){return m.replace(\"\\\\\",\"\");}\nx.h=x.getHours;switch(m){case\"hh\":return p(x.h()<13?(x.h()===0?12:x.h()):(x.h()-12));case\"h\":return x.h()<13?(x.h()===0?12:x.h()):(x.h()-12);case\"HH\":return p(x.h());case\"H\":return x.h();case\"mm\":return p(x.getMinutes());case\"m\":return x.getMinutes();case\"ss\":return p(x.getSeconds());case\"s\":return x.getSeconds();case\"yyyy\":return p(x.getFullYear(),4);case\"yy\":return p(x.getFullYear());case\"dddd\":return $C.dayNames[x.getDay()];case\"ddd\":return $C.abbreviatedDayNames[x.getDay()];case\"dd\":return p(x.getDate());case\"d\":return x.getDate();case\"MMMM\":return $C.monthNames[x.getMonth()];case\"MMM\":return $C.abbreviatedMonthNames[x.getMonth()];case\"MM\":return p((x.getMonth()+1));case\"M\":return x.getMonth()+1;case\"t\":return x.h()<12?$C.amDesignator.substring(0,1):$C.pmDesignator.substring(0,1);case\"tt\":return x.h()<12?$C.amDesignator:$C.pmDesignator;case\"S\":return ord(x.getDate());default:return m;}}):this._toString();};}());\n(function(){var $D=Date,$P=$D.prototype,$C=$D.CultureInfo,$N=Number.prototype;$P._orient=+1;$P._nth=null;$P._is=false;$P._same=false;$P._isSecond=false;$N._dateElement=\"day\";$P.next=function(){this._orient=+1;return this;};$D.next=function(){return $D.today().next();};$P.last=$P.prev=$P.previous=function(){this._orient=-1;return this;};$D.last=$D.prev=$D.previous=function(){return $D.today().last();};$P.is=function(){this._is=true;return this;};$P.same=function(){this._same=true;this._isSecond=false;return this;};$P.today=function(){return this.same().day();};$P.weekday=function(){if(this._is){this._is=false;return(!this.is().sat()&&!this.is().sun());}\nreturn false;};$P.at=function(time){return(typeof time===\"string\")?$D.parse(this.toString(\"d\")+\" \"+time):this.set(time);};$N.fromNow=$N.after=function(date){var c={};c[this._dateElement]=this;return((!date)?new Date():date.clone()).add(c);};$N.ago=$N.before=function(date){var c={};c[this._dateElement]=this*-1;return((!date)?new Date():date.clone()).add(c);};var dx=(\"sunday monday tuesday wednesday thursday friday saturday\").split(/\\s/),mx=(\"january february march april may june july august september october november december\").split(/\\s/),px=(\"Millisecond Second Minute Hour Day Week Month Year\").split(/\\s/),pxf=(\"Milliseconds Seconds Minutes Hours Date Week Month FullYear\").split(/\\s/),nth=(\"final first second third fourth fifth\").split(/\\s/),de;$P.toObject=function(){var o={};for(var i=0;i<px.length;i++){o[px[i].toLowerCase()]=this[\"get\"+pxf[i]]();}\nreturn o;};$D.fromObject=function(config){config.week=null;return Date.today().set(config);};var df=function(n){return function(){if(this._is){this._is=false;return this.getDay()==n;}\nif(this._nth!==null){if(this._isSecond){this.addSeconds(this._orient*-1);}\nthis._isSecond=false;var ntemp=this._nth;this._nth=null;var temp=this.clone().moveToLastDayOfMonth();this.moveToNthOccurrence(n,ntemp);if(this>temp){throw new RangeError($D.getDayName(n)+\" does not occur \"+ntemp+\" times in the month of \"+$D.getMonthName(temp.getMonth())+\" \"+temp.getFullYear()+\".\");}\nreturn this;}\nreturn this.moveToDayOfWeek(n,this._orient);};};var sdf=function(n){return function(){var t=$D.today(),shift=n-t.getDay();if(n===0&&$C.firstDayOfWeek===1&&t.getDay()!==0){shift=shift+7;}\nreturn t.addDays(shift);};};for(var i=0;i<dx.length;i++){$D[dx[i].toUpperCase()]=$D[dx[i].toUpperCase().substring(0,3)]=i;$D[dx[i]]=$D[dx[i].substring(0,3)]=sdf(i);$P[dx[i]]=$P[dx[i].substring(0,3)]=df(i);}\nvar mf=function(n){return function(){if(this._is){this._is=false;return this.getMonth()===n;}\nreturn this.moveToMonth(n,this._orient);};};var smf=function(n){return function(){return $D.today().set({month:n,day:1});};};for(var j=0;j<mx.length;j++){$D[mx[j].toUpperCase()]=$D[mx[j].toUpperCase().substring(0,3)]=j;$D[mx[j]]=$D[mx[j].substring(0,3)]=smf(j);$P[mx[j]]=$P[mx[j].substring(0,3)]=mf(j);}\nvar ef=function(j){return function(){if(this._isSecond){this._isSecond=false;return this;}\nif(this._same){this._same=this._is=false;var o1=this.toObject(),o2=(arguments[0]||new Date()).toObject(),v=\"\",k=j.toLowerCase();for(var m=(px.length-1);m>-1;m--){v=px[m].toLowerCase();if(o1[v]!=o2[v]){return false;}\nif(k==v){break;}}\nreturn true;}\nif(j.substring(j.length-1)!=\"s\"){j+=\"s\";}\nreturn this[\"add\"+j](this._orient);};};var nf=function(n){return function(){this._dateElement=n;return this;};};for(var k=0;k<px.length;k++){de=px[k].toLowerCase();$P[de]=$P[de+\"s\"]=ef(px[k]);$N[de]=$N[de+\"s\"]=nf(de);}\n$P._ss=ef(\"Second\");var nthfn=function(n){return function(dayOfWeek){if(this._same){return this._ss(arguments[0]);}\nif(dayOfWeek||dayOfWeek===0){return this.moveToNthOccurrence(dayOfWeek,n);}\nthis._nth=n;if(n===2&&(dayOfWeek===undefined||dayOfWeek===null)){this._isSecond=true;return this.addSeconds(this._orient);}\nreturn this;};};for(var l=0;l<nth.length;l++){$P[nth[l]]=(l===0)?nthfn(-1):nthfn(l);}}());\n(function(){Date.Parsing={Exception:function(s){this.message=\"Parse error at '\"+s.substring(0,10)+\" ...'\";}};var $P=Date.Parsing;var _=$P.Operators={rtoken:function(r){return function(s){var mx=s.match(r);if(mx){return([mx[0],s.substring(mx[0].length)]);}else{throw new $P.Exception(s);}};},token:function(s){return function(s){return _.rtoken(new RegExp(\"^\\s*\"+s+\"\\s*\"))(s);};},stoken:function(s){return _.rtoken(new RegExp(\"^\"+s));},until:function(p){return function(s){var qx=[],rx=null;while(s.length){try{rx=p.call(this,s);}catch(e){qx.push(rx[0]);s=rx[1];continue;}\nbreak;}\nreturn[qx,s];};},many:function(p){return function(s){var rx=[],r=null;while(s.length){try{r=p.call(this,s);}catch(e){return[rx,s];}\nrx.push(r[0]);s=r[1];}\nreturn[rx,s];};},optional:function(p){return function(s){var r=null;try{r=p.call(this,s);}catch(e){return[null,s];}\nreturn[r[0],r[1]];};},not:function(p){return function(s){try{p.call(this,s);}catch(e){return[null,s];}\nthrow new $P.Exception(s);};},ignore:function(p){return p?function(s){var r=null;r=p.call(this,s);return[null,r[1]];}:null;},product:function(){var px=arguments[0],qx=Array.prototype.slice.call(arguments,1),rx=[];for(var i=0;i<px.length;i++){rx.push(_.each(px[i],qx));}\nreturn rx;},cache:function(rule){var cache={},r=null;return function(s){try{r=cache[s]=(cache[s]||rule.call(this,s));}catch(e){r=cache[s]=e;}\nif(r instanceof $P.Exception){throw r;}else{return r;}};},any:function(){var px=arguments;return function(s){var r=null;for(var i=0;i<px.length;i++){if(px[i]==null){continue;}\ntry{r=(px[i].call(this,s));}catch(e){r=null;}\nif(r){return r;}}\nthrow new $P.Exception(s);};},each:function(){var px=arguments;return function(s){var rx=[],r=null;for(var i=0;i<px.length;i++){if(px[i]==null){continue;}\ntry{r=(px[i].call(this,s));}catch(e){throw new $P.Exception(s);}\nrx.push(r[0]);s=r[1];}\nreturn[rx,s];};},all:function(){var px=arguments,_=_;return _.each(_.optional(px));},sequence:function(px,d,c){d=d||_.rtoken(/^\\s*/);c=c||null;if(px.length==1){return px[0];}\nreturn function(s){var r=null,q=null;var rx=[];for(var i=0;i<px.length;i++){try{r=px[i].call(this,s);}catch(e){break;}\nrx.push(r[0]);try{q=d.call(this,r[1]);}catch(ex){q=null;break;}\ns=q[1];}\nif(!r){throw new $P.Exception(s);}\nif(q){throw new $P.Exception(q[1]);}\nif(c){try{r=c.call(this,r[1]);}catch(ey){throw new $P.Exception(r[1]);}}\nreturn[rx,(r?r[1]:s)];};},between:function(d1,p,d2){d2=d2||d1;var _fn=_.each(_.ignore(d1),p,_.ignore(d2));return function(s){var rx=_fn.call(this,s);return[[rx[0][0],r[0][2]],rx[1]];};},list:function(p,d,c){d=d||_.rtoken(/^\\s*/);c=c||null;return(p instanceof Array?_.each(_.product(p.slice(0,-1),_.ignore(d)),p.slice(-1),_.ignore(c)):_.each(_.many(_.each(p,_.ignore(d))),px,_.ignore(c)));},set:function(px,d,c){d=d||_.rtoken(/^\\s*/);c=c||null;return function(s){var r=null,p=null,q=null,rx=null,best=[[],s],last=false;for(var i=0;i<px.length;i++){q=null;p=null;r=null;last=(px.length==1);try{r=px[i].call(this,s);}catch(e){continue;}\nrx=[[r[0]],r[1]];if(r[1].length>0&&!last){try{q=d.call(this,r[1]);}catch(ex){last=true;}}else{last=true;}\nif(!last&&q[1].length===0){last=true;}\nif(!last){var qx=[];for(var j=0;j<px.length;j++){if(i!=j){qx.push(px[j]);}}\np=_.set(qx,d).call(this,q[1]);if(p[0].length>0){rx[0]=rx[0].concat(p[0]);rx[1]=p[1];}}\nif(rx[1].length<best[1].length){best=rx;}\nif(best[1].length===0){break;}}\nif(best[0].length===0){return best;}\nif(c){try{q=c.call(this,best[1]);}catch(ey){throw new $P.Exception(best[1]);}\nbest[1]=q[1];}\nreturn best;};},forward:function(gr,fname){return function(s){return gr[fname].call(this,s);};},replace:function(rule,repl){return function(s){var r=rule.call(this,s);return[repl,r[1]];};},process:function(rule,fn){return function(s){var r=rule.call(this,s);return[fn.call(this,r[0]),r[1]];};},min:function(min,rule){return function(s){var rx=rule.call(this,s);if(rx[0].length<min){throw new $P.Exception(s);}\nreturn rx;};}};var _generator=function(op){return function(){var args=null,rx=[];if(arguments.length>1){args=Array.prototype.slice.call(arguments);}else if(arguments[0]instanceof Array){args=arguments[0];}\nif(args){for(var i=0,px=args.shift();i<px.length;i++){args.unshift(px[i]);rx.push(op.apply(null,args));args.shift();return rx;}}else{return op.apply(null,arguments);}};};var gx=\"optional not ignore cache\".split(/\\s/);for(var i=0;i<gx.length;i++){_[gx[i]]=_generator(_[gx[i]]);}\nvar _vector=function(op){return function(){if(arguments[0]instanceof Array){return op.apply(null,arguments[0]);}else{return op.apply(null,arguments);}};};var vx=\"each any all\".split(/\\s/);for(var j=0;j<vx.length;j++){_[vx[j]]=_vector(_[vx[j]]);}}());(function(){var $D=Date,$P=$D.prototype,$C=$D.CultureInfo;var flattenAndCompact=function(ax){var rx=[];for(var i=0;i<ax.length;i++){if(ax[i]instanceof Array){rx=rx.concat(flattenAndCompact(ax[i]));}else{if(ax[i]){rx.push(ax[i]);}}}\nreturn rx;};$D.Grammar={};$D.Translator={hour:function(s){return function(){this.hour=Number(s);};},minute:function(s){return function(){this.minute=Number(s);};},second:function(s){return function(){this.second=Number(s);};},meridian:function(s){return function(){this.meridian=s.slice(0,1).toLowerCase();};},timezone:function(s){return function(){var n=s.replace(/[^\\d\\+\\-]/g,\"\");if(n.length){this.timezoneOffset=Number(n);}else{this.timezone=s.toLowerCase();}};},day:function(x){var s=x[0];return function(){this.day=Number(s.match(/\\d+/)[0]);};},month:function(s){return function(){this.month=(s.length==3)?\"jan feb mar apr may jun jul aug sep oct nov dec\".indexOf(s)/4:Number(s)-1;};},year:function(s){return function(){var n=Number(s);this.year=((s.length>2)?n:(n+(((n+2000)<$C.twoDigitYearMax)?2000:1900)));};},rday:function(s){return function(){switch(s){case\"yesterday\":this.days=-1;break;case\"tomorrow\":this.days=1;break;case\"today\":this.days=0;break;case\"now\":this.days=0;this.now=true;break;}};},finishExact:function(x){x=(x instanceof Array)?x:[x];for(var i=0;i<x.length;i++){if(x[i]){x[i].call(this);}}\nvar now=new Date();if((this.hour||this.minute)&&(!this.month&&!this.year&&!this.day)){this.day=now.getDate();}\nif(!this.year){this.year=now.getFullYear();}\nif(!this.month&&this.month!==0){this.month=now.getMonth();}\nif(!this.day){this.day=1;}\nif(!this.hour){this.hour=0;}\nif(!this.minute){this.minute=0;}\nif(!this.second){this.second=0;}\nif(this.meridian&&this.hour){if(this.meridian==\"p\"&&this.hour<12){this.hour=this.hour+12;}else if(this.meridian==\"a\"&&this.hour==12){this.hour=0;}}\nif(this.day>$D.getDaysInMonth(this.year,this.month)){throw new RangeError(this.day+\" is not a valid value for days.\");}\nvar r=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);if(this.timezone){r.set({timezone:this.timezone});}else if(this.timezoneOffset){r.set({timezoneOffset:this.timezoneOffset});}\nreturn r;},finish:function(x){x=(x instanceof Array)?flattenAndCompact(x):[x];if(x.length===0){return null;}\nfor(var i=0;i<x.length;i++){if(typeof x[i]==\"function\"){x[i].call(this);}}\nvar today=$D.today();if(this.now&&!this.unit&&!this.operator){return new Date();}else if(this.now){today=new Date();}\nvar expression=!!(this.days&&this.days!==null||this.orient||this.operator);var gap,mod,orient;orient=((this.orient==\"past\"||this.operator==\"subtract\")?-1:1);if(!this.now&&\"hour minute second\".indexOf(this.unit)!=-1){today.setTimeToNow();}\nif(this.month||this.month===0){if(\"year day hour minute second\".indexOf(this.unit)!=-1){this.value=this.month+1;this.month=null;expression=true;}}\nif(!expression&&this.weekday&&!this.day&&!this.days){var temp=Date[this.weekday]();this.day=temp.getDate();if(!this.month){this.month=temp.getMonth();}\nthis.year=temp.getFullYear();}\nif(expression&&this.weekday&&this.unit!=\"month\"){this.unit=\"day\";gap=($D.getDayNumberFromName(this.weekday)-today.getDay());mod=7;this.days=gap?((gap+(orient*mod))%mod):(orient*mod);}\nif(this.month&&this.unit==\"day\"&&this.operator){this.value=(this.month+1);this.month=null;}\nif(this.value!=null&&this.month!=null&&this.year!=null){this.day=this.value*1;}\nif(this.month&&!this.day&&this.value){today.set({day:this.value*1});if(!expression){this.day=this.value*1;}}\nif(!this.month&&this.value&&this.unit==\"month\"&&!this.now){this.month=this.value;expression=true;}\nif(expression&&(this.month||this.month===0)&&this.unit!=\"year\"){this.unit=\"month\";gap=(this.month-today.getMonth());mod=12;this.months=gap?((gap+(orient*mod))%mod):(orient*mod);this.month=null;}\nif(!this.unit){this.unit=\"day\";}\nif(!this.value&&this.operator&&this.operator!==null&&this[this.unit+\"s\"]&&this[this.unit+\"s\"]!==null){this[this.unit+\"s\"]=this[this.unit+\"s\"]+((this.operator==\"add\")?1:-1)+(this.value||0)*orient;}else if(this[this.unit+\"s\"]==null||this.operator!=null){if(!this.value){this.value=1;}\nthis[this.unit+\"s\"]=this.value*orient;}\nif(this.meridian&&this.hour){if(this.meridian==\"p\"&&this.hour<12){this.hour=this.hour+12;}else if(this.meridian==\"a\"&&this.hour==12){this.hour=0;}}\nif(this.weekday&&!this.day&&!this.days){var temp=Date[this.weekday]();this.day=temp.getDate();if(temp.getMonth()!==today.getMonth()){this.month=temp.getMonth();}}\nif((this.month||this.month===0)&&!this.day){this.day=1;}\nif(!this.orient&&!this.operator&&this.unit==\"week\"&&this.value&&!this.day&&!this.month){return Date.today().setWeek(this.value);}\nif(expression&&this.timezone&&this.day&&this.days){this.day=this.days;}\nreturn(expression)?today.add(this):today.set(this);}};var _=$D.Parsing.Operators,g=$D.Grammar,t=$D.Translator,_fn;g.datePartDelimiter=_.rtoken(/^([\\s\\-\\.\\,\\/\\x27]+)/);g.timePartDelimiter=_.stoken(\":\");g.whiteSpace=_.rtoken(/^\\s*/);g.generalDelimiter=_.rtoken(/^(([\\s\\,]|at|@|on)+)/);var _C={};g.ctoken=function(keys){var fn=_C[keys];if(!fn){var c=$C.regexPatterns;var kx=keys.split(/\\s+/),px=[];for(var i=0;i<kx.length;i++){px.push(_.replace(_.rtoken(c[kx[i]]),kx[i]));}\nfn=_C[keys]=_.any.apply(null,px);}\nreturn fn;};g.ctoken2=function(key){return _.rtoken($C.regexPatterns[key]);};g.h=_.cache(_.process(_.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),t.hour));g.hh=_.cache(_.process(_.rtoken(/^(0[0-9]|1[0-2])/),t.hour));g.H=_.cache(_.process(_.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),t.hour));g.HH=_.cache(_.process(_.rtoken(/^([0-1][0-9]|2[0-3])/),t.hour));g.m=_.cache(_.process(_.rtoken(/^([0-5][0-9]|[0-9])/),t.minute));g.mm=_.cache(_.process(_.rtoken(/^[0-5][0-9]/),t.minute));g.s=_.cache(_.process(_.rtoken(/^([0-5][0-9]|[0-9])/),t.second));g.ss=_.cache(_.process(_.rtoken(/^[0-5][0-9]/),t.second));g.hms=_.cache(_.sequence([g.H,g.m,g.s],g.timePartDelimiter));g.t=_.cache(_.process(g.ctoken2(\"shortMeridian\"),t.meridian));g.tt=_.cache(_.process(g.ctoken2(\"longMeridian\"),t.meridian));g.z=_.cache(_.process(_.rtoken(/^((\\+|\\-)\\s*\\d\\d\\d\\d)|((\\+|\\-)\\d\\d\\:?\\d\\d)/),t.timezone));g.zz=_.cache(_.process(_.rtoken(/^((\\+|\\-)\\s*\\d\\d\\d\\d)|((\\+|\\-)\\d\\d\\:?\\d\\d)/),t.timezone));g.zzz=_.cache(_.process(g.ctoken2(\"timezone\"),t.timezone));g.timeSuffix=_.each(_.ignore(g.whiteSpace),_.set([g.tt,g.zzz]));g.time=_.each(_.optional(_.ignore(_.stoken(\"T\"))),g.hms,g.timeSuffix);g.d=_.cache(_.process(_.each(_.rtoken(/^([0-2]\\d|3[0-1]|\\d)/),_.optional(g.ctoken2(\"ordinalSuffix\"))),t.day));g.dd=_.cache(_.process(_.each(_.rtoken(/^([0-2]\\d|3[0-1])/),_.optional(g.ctoken2(\"ordinalSuffix\"))),t.day));g.ddd=g.dddd=_.cache(_.process(g.ctoken(\"sun mon tue wed thu fri sat\"),function(s){return function(){this.weekday=s;};}));g.M=_.cache(_.process(_.rtoken(/^(1[0-2]|0\\d|\\d)/),t.month));g.MM=_.cache(_.process(_.rtoken(/^(1[0-2]|0\\d)/),t.month));g.MMM=g.MMMM=_.cache(_.process(g.ctoken(\"jan feb mar apr may jun jul aug sep oct nov dec\"),t.month));g.y=_.cache(_.process(_.rtoken(/^(\\d\\d?)/),t.year));g.yy=_.cache(_.process(_.rtoken(/^(\\d\\d)/),t.year));g.yyy=_.cache(_.process(_.rtoken(/^(\\d\\d?\\d?\\d?)/),t.year));g.yyyy=_.cache(_.process(_.rtoken(/^(\\d\\d\\d\\d)/),t.year));_fn=function(){return _.each(_.any.apply(null,arguments),_.not(g.ctoken2(\"timeContext\")));};g.day=_fn(g.d,g.dd);g.month=_fn(g.M,g.MMM);g.year=_fn(g.yyyy,g.yy);g.orientation=_.process(g.ctoken(\"past future\"),function(s){return function(){this.orient=s;};});g.operator=_.process(g.ctoken(\"add subtract\"),function(s){return function(){this.operator=s;};});g.rday=_.process(g.ctoken(\"yesterday tomorrow today now\"),t.rday);g.unit=_.process(g.ctoken(\"second minute hour day week month year\"),function(s){return function(){this.unit=s;};});g.value=_.process(_.rtoken(/^\\d\\d?(st|nd|rd|th)?/),function(s){return function(){this.value=s.replace(/\\D/g,\"\");};});g.expression=_.set([g.rday,g.operator,g.value,g.unit,g.orientation,g.ddd,g.MMM]);_fn=function(){return _.set(arguments,g.datePartDelimiter);};g.mdy=_fn(g.ddd,g.month,g.day,g.year);g.ymd=_fn(g.ddd,g.year,g.month,g.day);g.dmy=_fn(g.ddd,g.day,g.month,g.year);g.date=function(s){return((g[$C.dateElementOrder]||g.mdy).call(this,s));};g.format=_.process(_.many(_.any(_.process(_.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(fmt){if(g[fmt]){return g[fmt];}else{throw $D.Parsing.Exception(fmt);}}),_.process(_.rtoken(/^[^dMyhHmstz]+/),function(s){return _.ignore(_.stoken(s));}))),function(rules){return _.process(_.each.apply(null,rules),t.finishExact);});var _F={};var _get=function(f){return _F[f]=(_F[f]||g.format(f)[0]);};g.formats=function(fx){if(fx instanceof Array){var rx=[];for(var i=0;i<fx.length;i++){rx.push(_get(fx[i]));}\nreturn _.any.apply(null,rx);}else{return _get(fx);}};g._formats=g.formats([\"\\\"yyyy-MM-ddTHH:mm:ssZ\\\"\",\"yyyy-MM-ddTHH:mm:ssZ\",\"yyyy-MM-ddTHH:mm:ssz\",\"yyyy-MM-ddTHH:mm:ss\",\"yyyy-MM-ddTHH:mmZ\",\"yyyy-MM-ddTHH:mmz\",\"yyyy-MM-ddTHH:mm\",\"ddd, MMM dd, yyyy H:mm:ss tt\",\"ddd MMM d yyyy HH:mm:ss zzz\",\"MMddyyyy\",\"ddMMyyyy\",\"Mddyyyy\",\"ddMyyyy\",\"Mdyyyy\",\"dMyyyy\",\"yyyy\",\"Mdyy\",\"dMyy\",\"d\"]);g._start=_.process(_.set([g.date,g.time,g.expression],g.generalDelimiter,g.whiteSpace),t.finish);g.start=function(s){try{var r=g._formats.call({},s);if(r[1].length===0){return r;}}catch(e){}\nreturn g._start.call({},s);};$D._parse=$D.parse;$D.parse=function(s){var r=null;if(!s){return null;}\nif(s instanceof Date){return s;}\ntry{r=$D.Grammar.start.call({},s.replace(/^\\s*(\\S*(\\s+\\S+)*)\\s*$/,\"$1\"));}catch(e){return null;}\nreturn((r[1].length===0)?r[0]:null);};$D.getParseFunction=function(fx){var fn=$D.Grammar.formats(fx);return function(s){var r=null;try{r=fn.call({},s);}catch(e){return null;}\nreturn((r[1].length===0)?r[0]:null);};};$D.parseExact=function(s,fx){return $D.getParseFunction(fx)(s);};}());\n\n\n\n// WEBPACK FOOTER //\n// ./common/static/js/vendor/date.js","/*!\n * jQuery Form Plugin\n * version: 3.18 (28-SEP-2012)\n * @requires jQuery v1.5 or later\n *\n * Examples and documentation at: http://malsup.com/jquery/form/\n * Project repository: https://github.com/malsup/form\n * Dual licensed under the MIT and GPL licenses:\n *    http://malsup.github.com/mit-license.txt\n *    http://malsup.github.com/gpl-license-v2.txt\n */\n/*global ActiveXObject alert */\n;(function($) {\n\"use strict\";\n\n/*\n    Usage Note:\n    -----------\n    Do not use both ajaxSubmit and ajaxForm on the same form.  These\n    functions are mutually exclusive.  Use ajaxSubmit if you want\n    to bind your own submit handler to the form.  For example,\n\n    $(document).ready(function() {\n        $('#myForm').on('submit', function(e) {\n            e.preventDefault(); // <-- important\n            $(this).ajaxSubmit({\n                target: '#output'\n            });\n        });\n    });\n\n    Use ajaxForm when you want the plugin to manage all the event binding\n    for you.  For example,\n\n    $(document).ready(function() {\n        $('#myForm').ajaxForm({\n            target: '#output'\n        });\n    });\n    \n    You can also use ajaxForm with delegation (requires jQuery v1.7+), so the\n    form does not have to exist when you invoke ajaxForm:\n\n    $('#myForm').ajaxForm({\n        delegation: true,\n        target: '#output'\n    });\n    \n    When using ajaxForm, the ajaxSubmit function will be invoked for you\n    at the appropriate time.\n*/\n\n/**\n * Feature detection\n */\nvar feature = {};\nfeature.fileapi = $(\"<input type='file'/>\").get(0).files !== undefined;\nfeature.formdata = window.FormData !== undefined;\n\n/**\n * ajaxSubmit() provides a mechanism for immediately submitting\n * an HTML form using AJAX.\n */\n$.fn.ajaxSubmit = function(options) {\n    /*jshint scripturl:true */\n\n    // fast fail if nothing selected (http://dev.jquery.com/ticket/2752)\n    if (!this.length) {\n        log('ajaxSubmit: skipping submit process - no element selected');\n        return this;\n    }\n    \n    var method, action, url, $form = this;\n\n    if (typeof options == 'function') {\n        options = { success: options };\n    }\n\n    method = this.attr('method');\n    action = this.attr('action');\n    url = (typeof action === 'string') ? $.trim(action) : '';\n    url = url || window.location.href || '';\n    if (url) {\n        // clean url (don't include hash vaue)\n        url = (url.match(/^([^#]+)/)||[])[1];\n    }\n\n    options = $.extend(true, {\n        url:  url,\n        success: $.ajaxSettings.success,\n        type: method || 'GET',\n        iframeSrc: /^https/i.test(window.location.href || '') ? 'javascript:false' : 'about:blank'\n    }, options);\n\n    // hook for manipulating the form data before it is extracted;\n    // convenient for use with rich editors like tinyMCE or FCKEditor\n    var veto = {};\n    this.trigger('form-pre-serialize', [this, options, veto]);\n    if (veto.veto) {\n        log('ajaxSubmit: submit vetoed via form-pre-serialize trigger');\n        return this;\n    }\n\n    // provide opportunity to alter form data before it is serialized\n    if (options.beforeSerialize && options.beforeSerialize(this, options) === false) {\n        log('ajaxSubmit: submit aborted via beforeSerialize callback');\n        return this;\n    }\n\n    var traditional = options.traditional;\n    if ( traditional === undefined ) {\n        traditional = $.ajaxSettings.traditional;\n    }\n    \n    var elements = [];\n    var qx, a = this.formToArray(options.semantic, elements);\n    if (options.data) {\n        options.extraData = options.data;\n        qx = $.param(options.data, traditional);\n    }\n\n    // give pre-submit callback an opportunity to abort the submit\n    if (options.beforeSubmit && options.beforeSubmit(a, this, options) === false) {\n        log('ajaxSubmit: submit aborted via beforeSubmit callback');\n        return this;\n    }\n\n    // fire vetoable 'validate' event\n    this.trigger('form-submit-validate', [a, this, options, veto]);\n    if (veto.veto) {\n        log('ajaxSubmit: submit vetoed via form-submit-validate trigger');\n        return this;\n    }\n\n    var q = $.param(a, traditional);\n    if (qx) {\n        q = ( q ? (q + '&' + qx) : qx );\n    }    \n    if (options.type.toUpperCase() == 'GET') {\n        options.url += (options.url.indexOf('?') >= 0 ? '&' : '?') + q;\n        options.data = null;  // data is null for 'get'\n    }\n    else {\n        options.data = q; // data is the query string for 'post'\n    }\n\n    var callbacks = [];\n    if (options.resetForm) {\n        callbacks.push(function() { $form.resetForm(); });\n    }\n    if (options.clearForm) {\n        callbacks.push(function() { $form.clearForm(options.includeHidden); });\n    }\n\n    // perform a load on the target only if dataType is not provided\n    if (!options.dataType && options.target) {\n        var oldSuccess = options.success || function(){};\n        callbacks.push(function(data) {\n            var fn = options.replaceTarget ? 'replaceWith' : 'html';\n            $(options.target)[fn](data).each(oldSuccess, arguments);\n        });\n    }\n    else if (options.success) {\n        callbacks.push(options.success);\n    }\n\n    options.success = function(data, status, xhr) { // jQuery 1.4+ passes xhr as 3rd arg\n        var context = options.context || this ;    // jQuery 1.4+ supports scope context \n        for (var i=0, max=callbacks.length; i < max; i++) {\n            callbacks[i].apply(context, [data, status, xhr || $form, $form]);\n        }\n    };\n\n    // are there files to upload?\n    var fileInputs = $('input:file:enabled[value]', this); // [value] (issue #113)\n    var hasFileInputs = fileInputs.length > 0;\n    var mp = 'multipart/form-data';\n    var multipart = ($form.attr('enctype') == mp || $form.attr('encoding') == mp);\n\n    var fileAPI = feature.fileapi && feature.formdata;\n    log(\"fileAPI :\" + fileAPI);\n    var shouldUseFrame = (hasFileInputs || multipart) && !fileAPI;\n\n    var jqxhr;\n\n    // options.iframe allows user to force iframe mode\n    // 06-NOV-09: now defaulting to iframe mode if file input is detected\n    if (options.iframe !== false && (options.iframe || shouldUseFrame)) {\n        // hack to fix Safari hang (thanks to Tim Molendijk for this)\n        // see:  http://groups.google.com/group/jquery-dev/browse_thread/thread/36395b7ab510dd5d\n        if (options.closeKeepAlive) {\n            $.get(options.closeKeepAlive, function() {\n                jqxhr = fileUploadIframe(a);\n            });\n        }\n        else {\n            jqxhr = fileUploadIframe(a);\n        }\n    }\n    else if ((hasFileInputs || multipart) && fileAPI) {\n        jqxhr = fileUploadXhr(a);\n    }\n    else {\n        jqxhr = $.ajax(options);\n    }\n\n    $form.removeData('jqxhr').data('jqxhr', jqxhr);\n\n    // clear element array\n    for (var k=0; k < elements.length; k++)\n        elements[k] = null;\n\n    // fire 'notify' event\n    this.trigger('form-submit-notify', [this, options]);\n    return this;\n\n    // utility fn for deep serialization\n    function deepSerialize(extraData){\n        var serialized = $.param(extraData).split('&');\n        var len = serialized.length;\n        var result = {};\n        var i, part;\n        for (i=0; i < len; i++) {\n            part = serialized[i].split('=');\n            result[decodeURIComponent(part[0])] = decodeURIComponent(part[1]);\n        }\n        return result;\n    }\n\n     // XMLHttpRequest Level 2 file uploads (big hat tip to francois2metz)\n    function fileUploadXhr(a) {\n        var formdata = new FormData();\n\n        for (var i=0; i < a.length; i++) {\n            formdata.append(a[i].name, a[i].value);\n        }\n\n        if (options.extraData) {\n            var serializedData = deepSerialize(options.extraData);\n            for (var p in serializedData)\n                if (serializedData.hasOwnProperty(p))\n                    formdata.append(p, serializedData[p]);\n        }\n\n        options.data = null;\n\n        var s = $.extend(true, {}, $.ajaxSettings, options, {\n            contentType: false,\n            processData: false,\n            cache: false,\n            type: method || 'POST'\n        });\n        \n        if (options.uploadProgress) {\n            // workaround because jqXHR does not expose upload property\n            s.xhr = function() {\n                var xhr = jQuery.ajaxSettings.xhr();\n                if (xhr.upload) {\n                    xhr.upload.onprogress = function(event) {\n                        var percent = 0;\n                        var position = event.loaded || event.position; /*event.position is deprecated*/\n                        var total = event.total;\n                        if (event.lengthComputable) {\n                            percent = Math.ceil(position / total * 100);\n                        }\n                        options.uploadProgress(event, position, total, percent);\n                    };\n                }\n                return xhr;\n            };\n        }\n\n        s.data = null;\n            var beforeSend = s.beforeSend;\n            s.beforeSend = function(xhr, o) {\n                o.data = formdata;\n                if(beforeSend)\n                    beforeSend.call(this, xhr, o);\n        };\n        return $.ajax(s);\n    }\n\n    // private function for handling file uploads (hat tip to YAHOO!)\n    function fileUploadIframe(a) {\n        var form = $form[0], el, i, s, g, id, $io, io, xhr, sub, n, timedOut, timeoutHandle;\n        var useProp = !!$.fn.prop;\n        var deferred = $.Deferred();\n\n        if ($(':input[name=submit],:input[id=submit]', form).length) {\n            // if there is an input with a name or id of 'submit' then we won't be\n            // able to invoke the submit fn on the form (at least not x-browser)\n            alert('Error: Form elements must not have name or id of \"submit\".');\n            deferred.reject();\n            return deferred;\n        }\n        \n        if (a) {\n            // ensure that every serialized input is still enabled\n            for (i=0; i < elements.length; i++) {\n                el = $(elements[i]);\n                if ( useProp )\n                    el.prop('disabled', false);\n                else\n                    el.removeAttr('disabled');\n            }\n        }\n\n        s = $.extend(true, {}, $.ajaxSettings, options);\n        s.context = s.context || s;\n        id = 'jqFormIO' + (new Date().getTime());\n        if (s.iframeTarget) {\n            $io = $(s.iframeTarget);\n            n = $io.attr('name');\n            if (!n)\n                 $io.attr('name', id);\n            else\n                id = n;\n        }\n        else {\n            $io = $('<iframe name=\"' + id + '\" src=\"'+ s.iframeSrc +'\" />');\n            $io.css({ position: 'absolute', top: '-1000px', left: '-1000px' });\n        }\n        io = $io[0];\n\n\n        xhr = { // mock object\n            aborted: 0,\n            responseText: null,\n            responseXML: null,\n            status: 0,\n            statusText: 'n/a',\n            getAllResponseHeaders: function() {},\n            getResponseHeader: function() {},\n            setRequestHeader: function() {},\n            abort: function(status) {\n                var e = (status === 'timeout' ? 'timeout' : 'aborted');\n                log('aborting upload... ' + e);\n                this.aborted = 1;\n                // #214\n                if (io.contentWindow.document.execCommand) {\n                    try { // #214\n                        io.contentWindow.document.execCommand('Stop');\n                    } catch(ignore) {}\n                }\n                $io.attr('src', s.iframeSrc); // abort op in progress\n                xhr.error = e;\n                if (s.error)\n                    s.error.call(s.context, xhr, e, status);\n                if (g)\n                    $.event.trigger(\"ajaxError\", [xhr, s, e]);\n                if (s.complete)\n                    s.complete.call(s.context, xhr, e);\n            }\n        };\n\n        g = s.global;\n        // trigger ajax global events so that activity/block indicators work like normal\n        if (g && 0 === $.active++) {\n            $.event.trigger(\"ajaxStart\");\n        }\n        if (g) {\n            $.event.trigger(\"ajaxSend\", [xhr, s]);\n        }\n\n        if (s.beforeSend && s.beforeSend.call(s.context, xhr, s) === false) {\n            if (s.global) {\n                $.active--;\n            }\n            deferred.reject();\n            return deferred;\n        }\n        if (xhr.aborted) {\n            deferred.reject();\n            return deferred;\n        }\n\n        // add submitting element to data if we know it\n        sub = form.clk;\n        if (sub) {\n            n = sub.name;\n            if (n && !sub.disabled) {\n                s.extraData = s.extraData || {};\n                s.extraData[n] = sub.value;\n                if (sub.type == \"image\") {\n                    s.extraData[n+'.x'] = form.clk_x;\n                    s.extraData[n+'.y'] = form.clk_y;\n                }\n            }\n        }\n        \n        var CLIENT_TIMEOUT_ABORT = 1;\n        var SERVER_ABORT = 2;\n\n        function getDoc(frame) {\n            var doc = frame.contentWindow ? frame.contentWindow.document : frame.contentDocument ? frame.contentDocument : frame.document;\n            return doc;\n        }\n        \n        // Rails CSRF hack (thanks to Yvan Barthelemy)\n        var csrf_token = $('meta[name=csrf-token]').attr('content');\n        var csrf_param = $('meta[name=csrf-param]').attr('content');\n        if (csrf_param && csrf_token) {\n            s.extraData = s.extraData || {};\n            s.extraData[csrf_param] = csrf_token;\n        }\n\n        // take a breath so that pending repaints get some cpu time before the upload starts\n        function doSubmit() {\n            // make sure form attrs are set\n            var t = $form.attr('target'), a = $form.attr('action');\n\n            // update form attrs in IE friendly way\n            form.setAttribute('target',id);\n            if (!method) {\n                form.setAttribute('method', 'POST');\n            }\n            if (a != s.url) {\n                form.setAttribute('action', s.url);\n            }\n\n            // ie borks in some cases when setting encoding\n            if (! s.skipEncodingOverride && (!method || /post/i.test(method))) {\n                $form.attr({\n                    encoding: 'multipart/form-data',\n                    enctype:  'multipart/form-data'\n                });\n            }\n\n            // support timout\n            if (s.timeout) {\n                timeoutHandle = setTimeout(function() { timedOut = true; cb(CLIENT_TIMEOUT_ABORT); }, s.timeout);\n            }\n            \n            // look for server aborts\n            function checkState() {\n                try {\n                    var state = getDoc(io).readyState;\n                    log('state = ' + state);\n                    if (state && state.toLowerCase() == 'uninitialized')\n                        setTimeout(checkState,50);\n                }\n                catch(e) {\n                    log('Server abort: ' , e, ' (', e.name, ')');\n                    cb(SERVER_ABORT);\n                    if (timeoutHandle)\n                        clearTimeout(timeoutHandle);\n                    timeoutHandle = undefined;\n                }\n            }\n\n            // add \"extra\" data to form if provided in options\n            var extraInputs = [];\n            try {\n                if (s.extraData) {\n                    for (var n in s.extraData) {\n                        if (s.extraData.hasOwnProperty(n)) {\n                           // if using the $.param format that allows for multiple values with the same name\n                           if($.isPlainObject(s.extraData[n]) && s.extraData[n].hasOwnProperty('name') && s.extraData[n].hasOwnProperty('value')) {\n                               extraInputs.push(\n                               $('<input type=\"hidden\" name=\"'+s.extraData[n].name+'\">').attr('value',s.extraData[n].value)\n                                   .appendTo(form)[0]);\n                           } else {\n                               extraInputs.push(\n                               $('<input type=\"hidden\" name=\"'+n+'\">').attr('value',s.extraData[n])\n                                   .appendTo(form)[0]);\n                           }\n                        }\n                    }\n                }\n\n                if (!s.iframeTarget) {\n                    // add iframe to doc and submit the form\n                    $io.appendTo('body');\n                    if (io.attachEvent)\n                        io.attachEvent('onload', cb);\n                    else\n                        io.addEventListener('load', cb, false);\n                }\n                setTimeout(checkState,15);\n                form.submit();\n            }\n            finally {\n                // reset attrs and remove \"extra\" input elements\n                form.setAttribute('action',a);\n                if(t) {\n                    form.setAttribute('target', t);\n                } else {\n                    $form.removeAttr('target');\n                }\n                $(extraInputs).remove();\n            }\n        }\n\n        if (s.forceSync) {\n            doSubmit();\n        }\n        else {\n            setTimeout(doSubmit, 10); // this lets dom updates render\n        }\n\n        var data, doc, domCheckCount = 50, callbackProcessed;\n\n        function cb(e) {\n            if (xhr.aborted || callbackProcessed) {\n                return;\n            }\n            try {\n                doc = getDoc(io);\n            }\n            catch(ex) {\n                log('cannot access response document: ', ex);\n                e = SERVER_ABORT;\n            }\n            if (e === CLIENT_TIMEOUT_ABORT && xhr) {\n                xhr.abort('timeout');\n                deferred.reject(xhr, 'timeout');\n                return;\n            }\n            else if (e == SERVER_ABORT && xhr) {\n                xhr.abort('server abort');\n                deferred.reject(xhr, 'error', 'server abort');\n                return;\n            }\n\n            if (!doc || doc.location.href == s.iframeSrc) {\n                // response not received yet\n                if (!timedOut)\n                    return;\n            }\n            if (io.detachEvent)\n                io.detachEvent('onload', cb);\n            else    \n                io.removeEventListener('load', cb, false);\n\n            var status = 'success', errMsg;\n            try {\n                if (timedOut) {\n                    throw 'timeout';\n                }\n\n                var isXml = s.dataType == 'xml' || doc.XMLDocument || $.isXMLDoc(doc);\n                log('isXml='+isXml);\n                if (!isXml && window.opera && (doc.body === null || !doc.body.innerHTML)) {\n                    if (--domCheckCount) {\n                        // in some browsers (Opera) the iframe DOM is not always traversable when\n                        // the onload callback fires, so we loop a bit to accommodate\n                        log('requeing onLoad callback, DOM not available');\n                        setTimeout(cb, 250);\n                        return;\n                    }\n                    // let this fall through because server response could be an empty document\n                    //log('Could not access iframe DOM after mutiple tries.');\n                    //throw 'DOMException: not available';\n                }\n\n                //log('response detected');\n                var docRoot = doc.body ? doc.body : doc.documentElement;\n                xhr.responseText = docRoot ? docRoot.innerHTML : null;\n                xhr.responseXML = doc.XMLDocument ? doc.XMLDocument : doc;\n                if (isXml)\n                    s.dataType = 'xml';\n                xhr.getResponseHeader = function(header){\n                    var headers = {'content-type': s.dataType};\n                    return headers[header];\n                };\n                // support for XHR 'status' & 'statusText' emulation :\n                if (docRoot) {\n                    xhr.status = Number( docRoot.getAttribute('status') ) || xhr.status;\n                    xhr.statusText = docRoot.getAttribute('statusText') || xhr.statusText;\n                }\n\n                var dt = (s.dataType || '').toLowerCase();\n                var scr = /(json|script|text)/.test(dt);\n                if (scr || s.textarea) {\n                    // see if user embedded response in textarea\n                    var ta = doc.getElementsByTagName('textarea')[0];\n                    if (ta) {\n                        xhr.responseText = ta.value;\n                        // support for XHR 'status' & 'statusText' emulation :\n                        xhr.status = Number( ta.getAttribute('status') ) || xhr.status;\n                        xhr.statusText = ta.getAttribute('statusText') || xhr.statusText;\n                    }\n                    else if (scr) {\n                        // account for browsers injecting pre around json response\n                        var pre = doc.getElementsByTagName('pre')[0];\n                        var b = doc.getElementsByTagName('body')[0];\n                        if (pre) {\n                            xhr.responseText = pre.textContent ? pre.textContent : pre.innerText;\n                        }\n                        else if (b) {\n                            xhr.responseText = b.textContent ? b.textContent : b.innerText;\n                        }\n                    }\n                }\n                else if (dt == 'xml' && !xhr.responseXML && xhr.responseText) {\n                    xhr.responseXML = toXml(xhr.responseText);\n                }\n\n                try {\n                    data = httpData(xhr, dt, s);\n                }\n                catch (e) {\n                    status = 'parsererror';\n                    xhr.error = errMsg = (e || status);\n                }\n            }\n            catch (e) {\n                log('error caught: ',e);\n                status = 'error';\n                xhr.error = errMsg = (e || status);\n            }\n\n            if (xhr.aborted) {\n                log('upload aborted');\n                status = null;\n            }\n\n            if (xhr.status) { // we've set xhr.status\n                status = (xhr.status >= 200 && xhr.status < 300 || xhr.status === 304) ? 'success' : 'error';\n            }\n\n            // ordering of these callbacks/triggers is odd, but that's how $.ajax does it\n            if (status === 'success') {\n                if (s.success)\n                    s.success.call(s.context, data, 'success', xhr);\n                deferred.resolve(xhr.responseText, 'success', xhr);\n                if (g)\n                    $.event.trigger(\"ajaxSuccess\", [xhr, s]);\n            }\n            else if (status) {\n                if (errMsg === undefined)\n                    errMsg = xhr.statusText;\n                if (s.error)\n                    s.error.call(s.context, xhr, status, errMsg);\n                deferred.reject(xhr, 'error', errMsg);\n                if (g)\n                    $.event.trigger(\"ajaxError\", [xhr, s, errMsg]);\n            }\n\n            if (g)\n                $.event.trigger(\"ajaxComplete\", [xhr, s]);\n\n            if (g && ! --$.active) {\n                $.event.trigger(\"ajaxStop\");\n            }\n\n            if (s.complete)\n                s.complete.call(s.context, xhr, status);\n\n            callbackProcessed = true;\n            if (s.timeout)\n                clearTimeout(timeoutHandle);\n\n            // clean up\n            setTimeout(function() {\n                if (!s.iframeTarget)\n                    $io.remove();\n                xhr.responseXML = null;\n            }, 100);\n        }\n\n        var toXml = $.parseXML || function(s, doc) { // use parseXML if available (jQuery 1.5+)\n            if (window.ActiveXObject) {\n                doc = new ActiveXObject('Microsoft.XMLDOM');\n                doc.async = 'false';\n                doc.loadXML(s);\n            }\n            else {\n                doc = (new DOMParser()).parseFromString(s, 'text/xml');\n            }\n            return (doc && doc.documentElement && doc.documentElement.nodeName != 'parsererror') ? doc : null;\n        };\n        var parseJSON = $.parseJSON || function(s) {\n            /*jslint evil:true */\n            return window['eval']('(' + s + ')');\n        };\n\n        var httpData = function( xhr, type, s ) { // mostly lifted from jq1.4.4\n\n            var ct = xhr.getResponseHeader('content-type') || '',\n                xml = type === 'xml' || !type && ct.indexOf('xml') >= 0,\n                data = xml ? xhr.responseXML : xhr.responseText;\n\n            if (xml && data.documentElement.nodeName === 'parsererror') {\n                if ($.error)\n                    $.error('parsererror');\n            }\n            if (s && s.dataFilter) {\n                data = s.dataFilter(data, type);\n            }\n            if (typeof data === 'string') {\n                if (type === 'json' || !type && ct.indexOf('json') >= 0) {\n                    data = parseJSON(data);\n                } else if (type === \"script\" || !type && ct.indexOf(\"javascript\") >= 0) {\n                    $.globalEval(data);\n                }\n            }\n            return data;\n        };\n\n        return deferred;\n    }\n};\n\n/**\n * ajaxForm() provides a mechanism for fully automating form submission.\n *\n * The advantages of using this method instead of ajaxSubmit() are:\n *\n * 1: This method will include coordinates for <input type=\"image\" /> elements (if the element\n *    is used to submit the form).\n * 2. This method will include the submit element's name/value data (for the element that was\n *    used to submit the form).\n * 3. This method binds the submit() method to the form for you.\n *\n * The options argument for ajaxForm works exactly as it does for ajaxSubmit.  ajaxForm merely\n * passes the options argument along after properly binding events for submit elements and\n * the form itself.\n */\n$.fn.ajaxForm = function(options) {\n    options = options || {};\n    options.delegation = options.delegation && $.isFunction($.fn.on);\n    \n    // in jQuery 1.3+ we can fix mistakes with the ready state\n    if (!options.delegation && this.length === 0) {\n        var o = { s: this.selector, c: this.context };\n        if (!$.isReady && o.s) {\n            log('DOM not ready, queuing ajaxForm');\n            $(function() {\n                $(o.s,o.c).ajaxForm(options);\n            });\n            return this;\n        }\n        // is your DOM ready?  http://docs.jquery.com/Tutorials:Introducing_$(document).ready()\n        log('terminating; zero elements found by selector' + ($.isReady ? '' : ' (DOM not ready)'));\n        return this;\n    }\n\n    if ( options.delegation ) {\n        $(document)\n            .off('submit.form-plugin', this.selector, doAjaxSubmit)\n            .off('click.form-plugin', this.selector, captureSubmittingElement)\n            .on('submit.form-plugin', this.selector, options, doAjaxSubmit)\n            .on('click.form-plugin', this.selector, options, captureSubmittingElement);\n        return this;\n    }\n\n    return this.ajaxFormUnbind()\n        .bind('submit.form-plugin', options, doAjaxSubmit)\n        .bind('click.form-plugin', options, captureSubmittingElement);\n};\n\n// private event handlers    \nfunction doAjaxSubmit(e) {\n    /*jshint validthis:true */\n    var options = e.data;\n    if (!e.isDefaultPrevented()) { // if event has been canceled, don't proceed\n        e.preventDefault();\n        $(this).ajaxSubmit(options);\n    }\n}\n    \nfunction captureSubmittingElement(e) {\n    /*jshint validthis:true */\n    var target = e.target;\n    var $el = $(target);\n    if (!($el.is(\":submit,input:image\"))) {\n        // is this a child element of the submit el?  (ex: a span within a button)\n        var t = $el.closest(':submit');\n        if (t.length === 0) {\n            return;\n        }\n        target = t[0];\n    }\n    var form = this;\n    form.clk = target;\n    if (target.type == 'image') {\n        if (e.offsetX !== undefined) {\n            form.clk_x = e.offsetX;\n            form.clk_y = e.offsetY;\n        } else if (typeof $.fn.offset == 'function') {\n            var offset = $el.offset();\n            form.clk_x = e.pageX - offset.left;\n            form.clk_y = e.pageY - offset.top;\n        } else {\n            form.clk_x = e.pageX - target.offsetLeft;\n            form.clk_y = e.pageY - target.offsetTop;\n        }\n    }\n    // clear form vars\n    setTimeout(function() { form.clk = form.clk_x = form.clk_y = null; }, 100);\n}\n\n\n// ajaxFormUnbind unbinds the event handlers that were bound by ajaxForm\n$.fn.ajaxFormUnbind = function() {\n    return this.unbind('submit.form-plugin click.form-plugin');\n};\n\n/**\n * formToArray() gathers form element data into an array of objects that can\n * be passed to any of the following ajax functions: $.get, $.post, or load.\n * Each object in the array has both a 'name' and 'value' property.  An example of\n * an array for a simple login form might be:\n *\n * [ { name: 'username', value: 'jresig' }, { name: 'password', value: 'secret' } ]\n *\n * It is this array that is passed to pre-submit callback functions provided to the\n * ajaxSubmit() and ajaxForm() methods.\n */\n$.fn.formToArray = function(semantic, elements) {\n    var a = [];\n    if (this.length === 0) {\n        return a;\n    }\n\n    var form = this[0];\n    var els = semantic ? form.getElementsByTagName('*') : form.elements;\n    if (!els) {\n        return a;\n    }\n\n    var i,j,n,v,el,max,jmax;\n    for(i=0, max=els.length; i < max; i++) {\n        el = els[i];\n        n = el.name;\n        if (!n) {\n            continue;\n        }\n\n        if (semantic && form.clk && el.type == \"image\") {\n            // handle image inputs on the fly when semantic == true\n            if(!el.disabled && form.clk == el) {\n                a.push({name: n, value: $(el).val(), type: el.type });\n                a.push({name: n+'.x', value: form.clk_x}, {name: n+'.y', value: form.clk_y});\n            }\n            continue;\n        }\n\n        v = $.fieldValue(el, true);\n        if (v && v.constructor == Array) {\n            if (elements) \n                elements.push(el);\n            for(j=0, jmax=v.length; j < jmax; j++) {\n                a.push({name: n, value: v[j]});\n            }\n        }\n        else if (feature.fileapi && el.type == 'file' && !el.disabled) {\n            if (elements) \n                elements.push(el);\n            var files = el.files;\n            if (files.length) {\n                for (j=0; j < files.length; j++) {\n                    a.push({name: n, value: files[j], type: el.type});\n                }\n            }\n            else {\n                // #180\n                a.push({ name: n, value: '', type: el.type });\n            }\n        }\n        else if (v !== null && typeof v != 'undefined') {\n            if (elements) \n                elements.push(el);\n            a.push({name: n, value: v, type: el.type, required: el.required});\n        }\n    }\n\n    if (!semantic && form.clk) {\n        // input type=='image' are not found in elements array! handle it here\n        var $input = $(form.clk), input = $input[0];\n        n = input.name;\n        if (n && !input.disabled && input.type == 'image') {\n            a.push({name: n, value: $input.val()});\n            a.push({name: n+'.x', value: form.clk_x}, {name: n+'.y', value: form.clk_y});\n        }\n    }\n    return a;\n};\n\n/**\n * Serializes form data into a 'submittable' string. This method will return a string\n * in the format: name1=value1&amp;name2=value2\n */\n$.fn.formSerialize = function(semantic) {\n    //hand off to jQuery.param for proper encoding\n    return $.param(this.formToArray(semantic));\n};\n\n/**\n * Serializes all field elements in the jQuery object into a query string.\n * This method will return a string in the format: name1=value1&amp;name2=value2\n */\n$.fn.fieldSerialize = function(successful) {\n    var a = [];\n    this.each(function() {\n        var n = this.name;\n        if (!n) {\n            return;\n        }\n        var v = $.fieldValue(this, successful);\n        if (v && v.constructor == Array) {\n            for (var i=0,max=v.length; i < max; i++) {\n                a.push({name: n, value: v[i]});\n            }\n        }\n        else if (v !== null && typeof v != 'undefined') {\n            a.push({name: this.name, value: v});\n        }\n    });\n    //hand off to jQuery.param for proper encoding\n    return $.param(a);\n};\n\n/**\n * Returns the value(s) of the element in the matched set.  For example, consider the following form:\n *\n *  <form><fieldset>\n *      <input name=\"A\" type=\"text\" />\n *      <input name=\"A\" type=\"text\" />\n *      <input name=\"B\" type=\"checkbox\" value=\"B1\" />\n *      <input name=\"B\" type=\"checkbox\" value=\"B2\"/>\n *      <input name=\"C\" type=\"radio\" value=\"C1\" />\n *      <input name=\"C\" type=\"radio\" value=\"C2\" />\n *  </fieldset></form>\n *\n *  var v = $(':text').fieldValue();\n *  // if no values are entered into the text inputs\n *  v == ['','']\n *  // if values entered into the text inputs are 'foo' and 'bar'\n *  v == ['foo','bar']\n *\n *  var v = $(':checkbox').fieldValue();\n *  // if neither checkbox is checked\n *  v === undefined\n *  // if both checkboxes are checked\n *  v == ['B1', 'B2']\n *\n *  var v = $(':radio').fieldValue();\n *  // if neither radio is checked\n *  v === undefined\n *  // if first radio is checked\n *  v == ['C1']\n *\n * The successful argument controls whether or not the field element must be 'successful'\n * (per http://www.w3.org/TR/html4/interact/forms.html#successful-controls).\n * The default value of the successful argument is true.  If this value is false the value(s)\n * for each element is returned.\n *\n * Note: This method *always* returns an array.  If no valid value can be determined the\n *    array will be empty, otherwise it will contain one or more values.\n */\n$.fn.fieldValue = function(successful) {\n    for (var val=[], i=0, max=this.length; i < max; i++) {\n        var el = this[i];\n        var v = $.fieldValue(el, successful);\n        if (v === null || typeof v == 'undefined' || (v.constructor == Array && !v.length)) {\n            continue;\n        }\n        if (v.constructor == Array)\n            $.merge(val, v);\n        else\n            val.push(v);\n    }\n    return val;\n};\n\n/**\n * Returns the value of the field element.\n */\n$.fieldValue = function(el, successful) {\n    var n = el.name, t = el.type, tag = el.tagName.toLowerCase();\n    if (successful === undefined) {\n        successful = true;\n    }\n\n    if (successful && (!n || el.disabled || t == 'reset' || t == 'button' ||\n        (t == 'checkbox' || t == 'radio') && !el.checked ||\n        (t == 'submit' || t == 'image') && el.form && el.form.clk != el ||\n        tag == 'select' && el.selectedIndex == -1)) {\n            return null;\n    }\n\n    if (tag == 'select') {\n        var index = el.selectedIndex;\n        if (index < 0) {\n            return null;\n        }\n        var a = [], ops = el.options;\n        var one = (t == 'select-one');\n        var max = (one ? index+1 : ops.length);\n        for(var i=(one ? index : 0); i < max; i++) {\n            var op = ops[i];\n            if (op.selected) {\n                var v = op.value;\n                if (!v) { // extra pain for IE...\n                    v = (op.attributes && op.attributes['value'] && !(op.attributes['value'].specified)) ? op.text : op.value;\n                }\n                if (one) {\n                    return v;\n                }\n                a.push(v);\n            }\n        }\n        return a;\n    }\n    return $(el).val();\n};\n\n/**\n * Clears the form data.  Takes the following actions on the form's input fields:\n *  - input text fields will have their 'value' property set to the empty string\n *  - select elements will have their 'selectedIndex' property set to -1\n *  - checkbox and radio inputs will have their 'checked' property set to false\n *  - inputs of type submit, button, reset, and hidden will *not* be effected\n *  - button elements will *not* be effected\n */\n$.fn.clearForm = function(includeHidden) {\n    return this.each(function() {\n        $('input,select,textarea', this).clearFields(includeHidden);\n    });\n};\n\n/**\n * Clears the selected form elements.\n */\n$.fn.clearFields = $.fn.clearInputs = function(includeHidden) {\n    var re = /^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i; // 'hidden' is not in this list\n    return this.each(function() {\n        var t = this.type, tag = this.tagName.toLowerCase();\n        if (re.test(t) || tag == 'textarea') {\n            this.value = '';\n        }\n        else if (t == 'checkbox' || t == 'radio') {\n            this.checked = false;\n        }\n        else if (tag == 'select') {\n            this.selectedIndex = -1;\n        }\n        else if (includeHidden) {\n            // includeHidden can be the value true, or it can be a selector string\n            // indicating a special test; for example:\n            //  $('#myForm').clearForm('.special:hidden')\n            // the above would clean hidden inputs that have the class of 'special'\n            if ( (includeHidden === true && /hidden/.test(t)) ||\n                 (typeof includeHidden == 'string' && $(this).is(includeHidden)) )\n                this.value = '';\n        }\n    });\n};\n\n/**\n * Resets the form data.  Causes all form elements to be reset to their original value.\n */\n$.fn.resetForm = function() {\n    return this.each(function() {\n        // guard against an input with the name of 'reset'\n        // note that IE reports the reset function as an 'object'\n        if (typeof this.reset == 'function' || (typeof this.reset == 'object' && !this.reset.nodeType)) {\n            this.reset();\n        }\n    });\n};\n\n/**\n * Enables or disables any matching elements.\n */\n$.fn.enable = function(b) {\n    if (b === undefined) {\n        b = true;\n    }\n    return this.each(function() {\n        this.disabled = !b;\n    });\n};\n\n/**\n * Checks/unchecks any matching checkboxes or radio buttons and\n * selects/deselects and matching option elements.\n */\n$.fn.selected = function(select) {\n    if (select === undefined) {\n        select = true;\n    }\n    return this.each(function() {\n        var t = this.type;\n        if (t == 'checkbox' || t == 'radio') {\n            this.checked = select;\n        }\n        else if (this.tagName.toLowerCase() == 'option') {\n            var $sel = $(this).parent('select');\n            if (select && $sel[0] && $sel[0].type == 'select-one') {\n                // deselect all other options\n                $sel.find('option').selected(false);\n            }\n            this.selected = select;\n        }\n    });\n};\n\n// expose debug var\n$.fn.ajaxSubmit.debug = false;\n\n// helper fn for console logging\nfunction log() {\n    if (!$.fn.ajaxSubmit.debug) \n        return;\n    var msg = '[jquery.form] ' + Array.prototype.join.call(arguments,'');\n    if (window.console && window.console.log) {\n        window.console.log(msg);\n    }\n    else if (window.opera && window.opera.postError) {\n        window.opera.postError(msg);\n    }\n}\n\n})(jQuery);\n\n\n\n// WEBPACK FOOTER //\n// ./common/static/js/vendor/jquery.form.js","// leanModal v1.1 by Ray Stone - http://finelysliced.com.au\n// Dual licensed under the MIT and GPL\n\n// Updated to prevent divs with duplicate IDs from being rendered.\n\n(function($) {\n    $.fn.extend({\n        leanModal: function(options) {\n            var defaults = {\n                top: 100,\n                overlay: 0.5,\n                closeButton: null\n            };\n\n            // Only append the overlay element if it isn't already present.\n            if ($(\"#lean_overlay\").length == 0) {\n                var overlay = $(\"<div id='lean_overlay'></div>\");\n                $(\"body\").append(overlay);\n            }\n\n            options = $.extend(defaults, options);\n            return this.each(function() {\n                var o = options;\n                $(this).click(function(e) {\n                    var modal_id = $(this).attr(\"href\");\n                    $(\"#lean_overlay\").click(function() {\n                        close_modal(modal_id)\n                    });\n                    $(o.closeButton).click(function() {\n                        close_modal(modal_id)\n                    });\n                    var modal_height = $(modal_id).outerHeight();\n                    var modal_width = $(modal_id).outerWidth();\n                    $(\"#lean_overlay\").css({\n                        \"display\": \"block\",\n                        opacity: 0\n                    });\n                    $(\"#lean_overlay\").fadeTo(200, o.overlay);\n                    $(modal_id).css({\n                        \"display\": \"block\",\n                        \"position\": \"fixed\",\n                        \"opacity\": 0,\n                        \"z-index\": 11000,\n                        \"left\": 50 + \"%\",\n                        \"margin-left\": -(modal_width / 2) + \"px\",\n                        \"top\": o.top + \"px\"\n                    });\n                    $(modal_id).fadeTo(200, 1);\n                    e.preventDefault()\n                })\n            });\n\n            function close_modal(modal_id) {\n                $(\"#lean_overlay\").fadeOut(200);\n                $(modal_id).css({\n                    \"display\": \"none\"\n                })\n            }\n        }\n    })\n})(jQuery);\n\n\n\n// WEBPACK FOOTER //\n// ./common/static/js/vendor/jquery.leanModal.js","/************************\r\ndatepair.js\r\n\r\nThis is a component of the jquery-timepicker plugin\r\n\r\nhttp://jonthornton.github.com/jquery-timepicker/\r\n\r\nrequires jQuery 1.6+\r\n\r\nversion: 1.2.2\r\n************************/\r\n\r\ndefine([\"jquery\", \"jquery.ui\", \"jquery.timepicker\"], function($) {\r\n\r\n$(function() {\r\n\r\n\t$('.datepair input.date').each(function(){\r\n\t\tvar $this = $(this);\r\n\t\t$this.datepicker({ 'dateFormat': 'm/d/yy' });\r\n\r\n\t\tif ($this.hasClass('start') || $this.hasClass('end')) {\r\n\t\t\t$this.on('changeDate change', doDatepair);\r\n\t\t}\r\n\r\n\t});\r\n\r\n\t$('.datepair input.time').each(function() {\r\n\t\tvar $this = $(this);\r\n\t\tvar opts = { 'showDuration': true, 'timeFormat': 'H:i', 'scrollDefaultNow': true };\r\n\r\n\t\tif ($this.hasClass('start') || $this.hasClass('end')) {\r\n\t\t\topts.onSelect = doDatepair;\r\n\t\t}\r\n\r\n\t\t$this.timepicker(opts);\r\n\t});\r\n\r\n\t$('.datepair').each(initDatepair);\r\n\r\n\tfunction initDatepair()\r\n\t{\r\n\t\tvar container = $(this);\r\n\r\n\t\tvar startDateInput = container.find('input.start.date');\r\n\t\tvar endDateInput = container.find('input.end.date');\r\n\t\tvar dateDelta = 0;\r\n\r\n\t\tif (startDateInput.length && endDateInput.length) {\r\n\t\t\tvar startDate = new Date(startDateInput.val());\r\n\t\t\tvar endDate =  new Date(endDateInput.val());\r\n\r\n\t\t\tdateDelta = endDate.getTime() - startDate.getTime();\r\n\r\n\t\t\tcontainer.data('dateDelta', dateDelta);\r\n\t\t}\r\n\r\n\t\tvar startTimeInput = container.find('input.start.time');\r\n\t\tvar endTimeInput = container.find('input.end.time');\r\n\r\n\t\tif (startTimeInput.length && endTimeInput.length) {\r\n\t\t\tvar startInt = startTimeInput.timepicker('getSecondsFromMidnight');\r\n\t\t\tvar endInt = endTimeInput.timepicker('getSecondsFromMidnight');\r\n\r\n\t\t\tcontainer.data('timeDelta', endInt - startInt);\r\n\r\n\t\t\tif (dateDelta < 86400000) {\r\n\t\t\t\tendTimeInput.timepicker('option', 'minTime', startInt);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction doDatepair()\r\n\t{\r\n\t\tvar target = $(this);\r\n\t\tif (target.val() == '') {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar container = target.closest('.datepair');\r\n\r\n\t\tif (target.hasClass('date')) {\r\n\t\t\tupdateDatePair(target, container);\r\n\r\n\t\t} else if (target.hasClass('time')) {\r\n\t\t\tupdateTimePair(target, container);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction updateDatePair(target, container)\r\n\t{\r\n\t\tvar start = container.find('input.start.date');\r\n\t\tvar end = container.find('input.end.date');\r\n\r\n\t\tif (!start.length || !end.length) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar startDate = new Date(start.val());\r\n\t\tvar endDate =  new Date(end.val());\r\n\r\n\t\tvar oldDelta = container.data('dateDelta');\r\n\r\n\t\tif (oldDelta && target.hasClass('start')) {\r\n\t\t\tvar newEnd = new Date(startDate.getTime()+oldDelta);\r\n\t\t\tend.val(newEnd.format('m/d/Y'));\r\n\t\t\tend.datepicker('update');\r\n\t\t\treturn;\r\n\r\n\t\t} else {\r\n\t\t\tvar newDelta = endDate.getTime() - startDate.getTime();\r\n\r\n\t\t\tif (newDelta < 0) {\r\n\t\t\t\tnewDelta = 0;\r\n\r\n\t\t\t\tif (target.hasClass('start')) {\r\n\t\t\t\t\tend.val(startDate.format('m/d/Y'));\r\n\t\t\t\t\tend.datepicker('update');\r\n\t\t\t\t} else if (target.hasClass('end')) {\r\n\t\t\t\t\tstart.val(endDate.format('m/d/Y'));\r\n\t\t\t\t\tstart.datepicker('update');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (newDelta < 86400000) {\r\n\t\t\t\tvar startTimeVal = container.find('input.start.time').val();\r\n\r\n\t\t\t\tif (startTimeVal) {\r\n\t\t\t\t\tcontainer.find('input.end.time').timepicker('option', {'minTime': startTimeVal});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tcontainer.find('input.end.time').timepicker('option', {'minTime': null});\r\n\t\t\t}\r\n\r\n\t\t\tcontainer.data('dateDelta', newDelta);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction updateTimePair(target, container)\r\n\t{\r\n\t\tvar start = container.find('input.start.time');\r\n\t\tvar end = container.find('input.end.time');\r\n\r\n\t\tif (!start.length || !end.length) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar startInt = start.timepicker('getSecondsFromMidnight');\r\n\t\tvar endInt = end.timepicker('getSecondsFromMidnight');\r\n\r\n\t\tvar oldDelta = container.data('timeDelta');\r\n\t\tvar dateDelta = container.data('dateDelta');\r\n\r\n\t\tif (target.hasClass('start') && (!dateDelta || dateDelta < 86400000)) {\r\n\t\t\tend.timepicker('option', 'minTime', startInt);\r\n\t\t}\r\n\r\n\t\tvar endDateAdvance = 0;\r\n\t\tvar newDelta;\r\n\r\n\t\tif (oldDelta && target.hasClass('start')) {\r\n\t\t\t// lock the duration and advance the end time\r\n\r\n\t\t\tvar newEnd = (startInt+oldDelta)%86400;\r\n\r\n\t\t\tif (newEnd < 0) {\r\n\t\t\t\tnewEnd += 86400;\r\n\t\t\t}\r\n\r\n\t\t\tend.timepicker('setTime', newEnd);\r\n\t\t\tnewDelta = newEnd - startInt;\r\n\t\t} else if (startInt !== null && endInt !== null) {\r\n\t\t\tnewDelta = endInt - startInt;\r\n\t\t} else {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tcontainer.data('timeDelta', newDelta);\r\n\r\n\t\tif (newDelta < 0 && (!oldDelta || oldDelta > 0)) {\r\n\t\t\t// overnight time span. advance the end date 1 day\r\n\t\t\tvar endDateAdvance = 86400000;\r\n\r\n\t\t} else if (newDelta > 0 && oldDelta < 0) {\r\n\t\t\t// switching from overnight to same-day time span. decrease the end date 1 day\r\n\t\t\tvar endDateAdvance = -86400000;\r\n\t\t}\r\n\r\n\t\tvar startInput = container.find('.start.date');\r\n\t\tvar endInput = container.find('.end.date');\r\n\r\n\t\tif (startInput.val() && !endInput.val()) {\r\n\t\t\tendInput.val(startInput.val());\r\n\t\t\tendInput.datepicker('update');\r\n\t\t\tdateDelta = 0;\r\n\t\t\tcontainer.data('dateDelta', 0);\r\n\t\t}\r\n\r\n\t\tif (endDateAdvance != 0) {\r\n\t\t\tif (dateDelta || dateDelta === 0) {\r\n\t\t\t\tvar endDate =  new Date(endInput.val());\r\n\t\t\t\tvar newEnd = new Date(endDate.getTime() + endDateAdvance);\r\n\t\t\t\tendInput.val(newEnd.format('m/d/Y'));\r\n\t\t\t\tendInput.datepicker('update');\r\n\t\t\t\tcontainer.data('dateDelta', dateDelta + endDateAdvance);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\n// Simulates PHP's date function\r\nDate.prototype.format=function(format){var returnStr='';var replace=Date.replaceChars;for(var i=0;i<format.length;i++){var curChar=format.charAt(i);if(replace[curChar]){returnStr+=replace[curChar].call(this);}else{returnStr+=curChar;}}return returnStr;};Date.replaceChars={shortMonths:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],longMonths:['January','February','March','April','May','June','July','August','September','October','November','December'],shortDays:['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],longDays:['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],d:function(){return(this.getDate()<10?'0':'')+this.getDate();},D:function(){return Date.replaceChars.shortDays[this.getDay()];},j:function(){return this.getDate();},l:function(){return Date.replaceChars.longDays[this.getDay()];},N:function(){return this.getDay()+1;},S:function(){return(this.getDate()%10==1&&this.getDate()!=11?'st':(this.getDate()%10==2&&this.getDate()!=12?'nd':(this.getDate()%10==3&&this.getDate()!=13?'rd':'th')));},w:function(){return this.getDay();},z:function(){return\"Not Yet Supported\";},W:function(){return\"Not Yet Supported\";},F:function(){return Date.replaceChars.longMonths[this.getMonth()];},m:function(){return(this.getMonth()<9?'0':'')+(this.getMonth()+1);},M:function(){return Date.replaceChars.shortMonths[this.getMonth()];},n:function(){return this.getMonth()+1;},t:function(){return\"Not Yet Supported\";},L:function(){return(((this.getFullYear()%4==0)&&(this.getFullYear()%100!=0))||(this.getFullYear()%400==0))?'1':'0';},o:function(){return\"Not Supported\";},Y:function(){return this.getFullYear();},y:function(){return(''+this.getFullYear()).substr(2);},a:function(){return this.getHours()<12?'am':'pm';},A:function(){return this.getHours()<12?'AM':'PM';},B:function(){return\"Not Yet Supported\";},g:function(){return this.getHours()%12||12;},G:function(){return this.getHours();},h:function(){return((this.getHours()%12||12)<10?'0':'')+(this.getHours()%12||12);},H:function(){return(this.getHours()<10?'0':'')+this.getHours();},i:function(){return(this.getMinutes()<10?'0':'')+this.getMinutes();},s:function(){return(this.getSeconds()<10?'0':'')+this.getSeconds();},e:function(){return\"Not Yet Supported\";},I:function(){return\"Not Supported\";},O:function(){return(-this.getTimezoneOffset()<0?'-':'+')+(Math.abs(this.getTimezoneOffset()/60)<10?'0':'')+(Math.abs(this.getTimezoneOffset()/60))+'00';},P:function(){return(-this.getTimezoneOffset()<0?'-':'+')+(Math.abs(this.getTimezoneOffset()/60)<10?'0':'')+(Math.abs(this.getTimezoneOffset()/60))+':'+(Math.abs(this.getTimezoneOffset()%60)<10?'0':'')+(Math.abs(this.getTimezoneOffset()%60));},T:function(){var m=this.getMonth();this.setMonth(0);var result=this.toTimeString().replace(/^.+ \\(?([^\\)]+)\\)?$/,'$1');this.setMonth(m);return result;},Z:function(){return-this.getTimezoneOffset()*60;},c:function(){return this.format(\"Y-m-d\")+\"T\"+this.format(\"H:i:sP\");},r:function(){return this.toString();},U:function(){return this.getTime()/1000;}};\r\n\r\n}); // end define()\r\n\n\n\n// WEBPACK FOOTER //\n// ./common/static/js/vendor/timepicker/datepair.js","/************************\njquery-timepicker\nhttp://jonthornton.github.com/jquery-timepicker/\n\nrequires jQuery 1.7+\n************************/\n\n\n(function (factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['jquery'], factory);\n    } else {\n        // Browser globals\n        factory(jQuery);\n    }\n}(function ($) {\n\tvar _baseDate = _generateBaseDate();\n\tvar _ONE_DAY = 86400;\n\tvar _closeEvent = 'ontouchstart' in document ? 'touchstart' : 'mousedown';\n\tvar _defaults =\t{\n\t\tclassName: null,\n\t\tminTime: null,\n\t\tmaxTime: null,\n\t\tdurationTime: null,\n\t\tstep: 30,\n\t\tshowDuration: false,\n\t\ttimeFormat: 'g:ia',\n\t\tscrollDefaultNow: false,\n\t\tscrollDefaultTime: false,\n\t\tselectOnBlur: false,\n\t\tforceRoundTime: false,\n\t\tappendTo: 'body'\n\t};\n\tvar _lang = {\n\t\tdecimal: '.',\n\t\tmins: 'mins',\n\t\thr: 'hr',\n\t\thrs: 'hrs'\n\t};\n\tvar globalInit = false;\n\n\tvar methods =\n\t{\n\t\tinit: function(options)\n\t\t{\n\t\t\treturn this.each(function()\n\t\t\t{\n\t\t\t\tvar self = $(this);\n\n\t\t\t\t// convert dropdowns to text input\n\t\t\t\tif (self[0].tagName == 'SELECT') {\n\t\t\t\t\tvar input = $('<input />');\n\t\t\t\t\tvar attrs = { 'type': 'text', 'value': self.val() };\n\t\t\t\t\tvar raw_attrs = self[0].attributes;\n\n\t\t\t\t\tfor (var i=0; i < raw_attrs.length; i++) {\n\t\t\t\t\t\tattrs[raw_attrs[i].nodeName] = raw_attrs[i].nodeValue;\n\t\t\t\t\t}\n\n\t\t\t\t\tinput.attr(attrs);\n\t\t\t\t\tself.replaceWith(input);\n\t\t\t\t\tself = input;\n\t\t\t\t}\n\n\t\t\t\tvar settings = $.extend({}, _defaults);\n\n\t\t\t\tif (options) {\n\t\t\t\t\tsettings = $.extend(settings, options);\n\t\t\t\t}\n\n\t\t\t\tif (settings.minTime) {\n\t\t\t\t\tsettings.minTime = _time2int(settings.minTime);\n\t\t\t\t}\n\n\t\t\t\tif (settings.maxTime) {\n\t\t\t\t\tsettings.maxTime = _time2int(settings.maxTime);\n\t\t\t\t}\n\n\t\t\t\tif (settings.durationTime) {\n\t\t\t\t\tsettings.durationTime = _time2int(settings.durationTime);\n\t\t\t\t}\n\n\t\t\t\tif (settings.lang) {\n\t\t\t\t\t_lang = $.extend(_lang, settings.lang);\n\t\t\t\t}\n\n\t\t\t\tself.data('timepicker-settings', settings);\n\t\t\t\tself.attr('autocomplete', 'off');\n\t\t\t\tself.on('click.timepicker focus.timepicker', methods.show);\n\t\t\t\tself.on('blur.timepicker', _formatValue);\n\t\t\t\tself.on('keydown.timepicker', _keyhandler);\n\t\t\t\tself.addClass('ui-timepicker-input');\n\n\t\t\t\t_formatValue.call(self.get(0));\n\n\t\t\t\tif (!globalInit) {\n\t\t\t\t\t// close the dropdown when container loses focus\n\t\t\t\t\t$('body').on(_closeEvent, function(e) {\n\t\t\t\t\t\tvar target = $(e.target);\n\t\t\t\t\t\tvar input = target.closest('.ui-timepicker-input');\n\t\t\t\t\t\tif (input.length === 0 && target.closest('.ui-timepicker-list').length === 0) {\n\t\t\t\t\t\t\tmethods.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tglobalInit = true;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tshow: function(e)\n\t\t{\n\t\t\tvar self = $(this);\n\n\t\t\tif ('ontouchstart' in document) {\n\t\t\t\t// block the keyboard on mobile devices\n\t\t\t\tself.blur();\n\t\t\t}\n\n\t\t\tvar list = self.data('timepicker-list');\n\n\t\t\t// check if input is readonly\n\t\t\tif (self.attr('readonly')) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// check if list needs to be rendered\n\t\t\tif (!list || list.length === 0) {\n\t\t\t\t_render(self);\n\t\t\t\tlist = self.data('timepicker-list');\n\t\t\t}\n\n\t\t\t// check if a flag was set to close this picker\n\t\t\tif (self.hasClass('ui-timepicker-hideme')) {\n\t\t\t\tself.removeClass('ui-timepicker-hideme');\n\t\t\t\tlist.hide();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (list.is(':visible')) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// make sure other pickers are hidden\n\t\t\tmethods.hide();\n\n\t\t\tif ((self.offset().top + self.outerHeight(true) + list.outerHeight()) > $(window).height() + $(window).scrollTop()) {\n\t\t\t\t// position the dropdown on top\n\t\t\t\tlist.css({ 'left':(self.offset().left), 'top': self.offset().top - list.outerHeight() });\n\t\t\t} else {\n\t\t\t\t// put it under the input\n\t\t\t\tlist.css({ 'left':(self.offset().left), 'top': self.offset().top + self.outerHeight() });\n\t\t\t}\n\n\t\t\tlist.show();\n\n\t\t\tvar settings = self.data('timepicker-settings');\n\t\t\t// position scrolling\n\t\t\tvar selected = list.find('.ui-timepicker-selected');\n\n\t\t\tif (!selected.length) {\n                if (self.val()) {\n                    selected = _findRow(self, list, _time2int(self.val()));\n                } else if (settings.scrollDefaultNow) {\n                    selected = _findRow(self, list, _time2int(new Date()));\n                } else if (settings.scrollDefaultTime !== false) {\n                    selected = _findRow(self, list, _time2int(settings.scrollDefaultTime));\n                }\n\t\t\t}\n\n\t\t\tif (selected && selected.length) {\n\t\t\t\tvar topOffset = list.scrollTop() + selected.position().top - selected.outerHeight();\n\t\t\t\tlist.scrollTop(topOffset);\n\t\t\t} else {\n\t\t\t\tlist.scrollTop(0);\n\t\t\t}\n\n\t\t\tself.trigger('showTimepicker');\n\t\t},\n\n\t\thide: function(e)\n\t\t{\n\t\t\t$('.ui-timepicker-list:visible').each(function() {\n\t\t\t\tvar list = $(this);\n\t\t\t\tvar self = list.data('timepicker-input');\n\t\t\t\tvar settings = self.data('timepicker-settings');\n\n\t\t\t\tif (settings && settings.selectOnBlur) {\n\t\t\t\t\t_selectValue(self);\n\t\t\t\t}\n\n\t\t\t\tlist.hide();\n\t\t\t\tself.trigger('hideTimepicker');\n\t\t\t});\n\t\t},\n\n\t\toption: function(key, value)\n\t\t{\n\t\t\tvar self = $(this);\n\t\t\tvar settings = self.data('timepicker-settings');\n\t\t\tvar list = self.data('timepicker-list');\n\n\t\t\tif (typeof key == 'object') {\n\t\t\t\tsettings = $.extend(settings, key);\n\n\t\t\t} else if (typeof key == 'string' && typeof value != 'undefined') {\n\t\t\t\tsettings[key] = value;\n\n\t\t\t} else if (typeof key == 'string') {\n\t\t\t\treturn settings[key];\n\t\t\t}\n\n\t\t\tif (settings.minTime) {\n\t\t\t\tsettings.minTime = _time2int(settings.minTime);\n\t\t\t}\n\n\t\t\tif (settings.maxTime) {\n\t\t\t\tsettings.maxTime = _time2int(settings.maxTime);\n\t\t\t}\n\n\t\t\tif (settings.durationTime) {\n\t\t\t\tsettings.durationTime = _time2int(settings.durationTime);\n\t\t\t}\n\n\t\t\tself.data('timepicker-settings', settings);\n\n\t\t\tif (list) {\n\t\t\t\tlist.remove();\n\t\t\t\tself.data('timepicker-list', false);\n\t\t\t}\n\n\t\t},\n\n\t\tgetSecondsFromMidnight: function()\n\t\t{\n\t\t\treturn _time2int($(this).val());\n\t\t},\n\n\t\tgetTime: function()\n\t\t{\n\t\t\treturn new Date(_baseDate.valueOf() + (_time2int($(this).val())*1000));\n\t\t},\n\n\t\tsetTime: function(value)\n\t\t{\n\t\t\tvar self = $(this);\n\t\t\tvar prettyTime = _int2time(_time2int(value), self.data('timepicker-settings').timeFormat);\n\t\t\tself.val(prettyTime);\n\t\t},\n\n\t\tremove: function()\n\t\t{\n\t\t\tvar self = $(this);\n\n\t\t\t// check if this element is a timepicker\n\t\t\tif (!self.hasClass('ui-timepicker-input')) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.removeAttr('autocomplete', 'off');\n\t\t\tself.removeClass('ui-timepicker-input');\n\t\t\tself.removeData('timepicker-settings');\n\t\t\tself.off('.timepicker');\n\n\t\t\t// timepicker-list won't be present unless the user has interacted with this timepicker\n\t\t\tif (self.data('timepicker-list')) {\n\t\t\t\tself.data('timepicker-list').remove();\n\t\t\t}\n\n\t\t\tself.removeData('timepicker-list');\n\t\t}\n\t};\n\n\t// private methods\n\n\tfunction _render(self)\n\t{\n\t\tvar settings = self.data('timepicker-settings');\n\t\tvar list = self.data('timepicker-list');\n\n\t\tif (list && list.length) {\n\t\t\tlist.remove();\n\t\t\tself.data('timepicker-list', false);\n\t\t}\n\n\t\tlist = $('<ul />');\n\t\tlist.attr('tabindex', -1);\n\t\tlist.addClass('ui-timepicker-list');\n\t\tif (settings.className) {\n\t\t\tlist.addClass(settings.className);\n\t\t}\n\n\t\tlist.css({'display':'none', 'position': 'absolute' });\n\n\t\tif ((settings.minTime !== null || settings.durationTime !== null) && settings.showDuration) {\n\t\t\tlist.addClass('ui-timepicker-with-duration');\n\t\t}\n\n\t\tvar durStart = (settings.durationTime !== null) ? settings.durationTime : settings.minTime;\n\t\tvar start = (settings.minTime !== null) ? settings.minTime : 0;\n\t\tvar end = (settings.maxTime !== null) ? settings.maxTime : (start + _ONE_DAY - 1);\n\n\t\tif (end <= start) {\n\t\t\t// make sure the end time is greater than start time, otherwise there will be no list to show\n\t\t\tend += _ONE_DAY;\n\t\t}\n\t\tfor (var i=start; i <= end; i += settings.step*60) {\n\t\t\tvar timeInt = i;\n\t\t\tvar row = $('<li />');\n\t\t\trow.data('time', timeInt);\n\t\t\trow.text(_int2time(timeInt, settings.timeFormat));\n\n\t\t\tif ((settings.minTime !== null || settings.durationTime !== null) && settings.showDuration) {\n\t\t\t\tvar duration = $('<span />');\n\t\t\t\tduration.addClass('ui-timepicker-duration');\n\t\t\t\tduration.text(' ('+_int2duration(i - durStart)+')');\n\t\t\t\trow.append(duration);\n\t\t\t}\n\n\t\t\tlist.append(row);\n\t\t}\n\n\t\tlist.data('timepicker-input', self);\n\t\tself.data('timepicker-list', list);\n\n\t\tvar appendTo = settings.appendTo;\n\t\tif (typeof appendTo === 'string') {\n\t\t\tappendTo = $(appendTo);\n\t\t} else if (typeof appendTo === 'function') {\n\t\t\tappendTo = appendTo(self);\n\t\t}\n\t\tappendTo.append(list);\n\t\t_setSelected(self, list);\n\n\t\tlist.on('click', 'li', function(e) {\n\t\t\tself.addClass('ui-timepicker-hideme');\n\t\t\tself[0].focus();\n\n\t\t\t// make sure only the clicked row is selected\n\t\t\tlist.find('li').removeClass('ui-timepicker-selected');\n\t\t\t$(this).addClass('ui-timepicker-selected');\n\n\t\t\t_selectValue(self);\n\t\t\tlist.hide();\n\t\t});\n\t}\n\n\tfunction _generateBaseDate()\n\t{\n\t\tvar _baseDate = new Date();\n\t\tvar _currentTimezoneOffset = _baseDate.getTimezoneOffset()*60000;\n\t\t_baseDate.setHours(0); _baseDate.setMinutes(0); _baseDate.setSeconds(0);\n\t\tvar _baseDateTimezoneOffset = _baseDate.getTimezoneOffset()*60000;\n\n\t\treturn new Date(_baseDate.valueOf() - _baseDateTimezoneOffset + _currentTimezoneOffset);\n\t}\n\n\tfunction _findRow(self, list, value)\n\t{\n\t\tif (!value && value !== 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar settings = self.data('timepicker-settings');\n\t\tvar out = false;\n\t\tvar halfStep = settings.step*30;\n\n\t\t// loop through the menu items\n\t\tlist.find('li').each(function(i, obj) {\n\t\t\tvar jObj = $(obj);\n\n\t\t\tvar offset = jObj.data('time') - value;\n\n\t\t\t// check if the value is less than half a step from each row\n\t\t\tif (Math.abs(offset) < halfStep || offset == halfStep) {\n\t\t\t\tout = jObj;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\n\t\treturn out;\n\t}\n\n\tfunction _setSelected(self, list)\n\t{\n\t\tvar timeValue = _time2int(self.val());\n\n\t\tvar selected = _findRow(self, list, timeValue);\n\t\tif (selected) selected.addClass('ui-timepicker-selected');\n\t}\n\n\n\tfunction _formatValue()\n\t{\n\t\tif (this.value === '') {\n\t\t\treturn;\n\t\t}\n\n\t\tvar self = $(this);\n\t\tvar seconds = _time2int(this.value);\n\n\t\tif (seconds === null) {\n\t\t\tself.trigger('timeFormatError');\n\t\t\treturn;\n\t\t}\n\n\t\tvar settings = self.data('timepicker-settings');\n\n\t\tif (settings.forceRoundTime) {\n\t\t\tvar offset = seconds % (settings.step*60); // step is in minutes\n\n\t\t\tif (offset >= settings.step*30) {\n\t\t\t\t// if offset is larger than a half step, round up\n\t\t\t\tseconds += (settings.step*60) - offset;\n\t\t\t} else {\n\t\t\t\t// round down\n\t\t\t\tseconds -= offset;\n\t\t\t}\n\t\t}\n\n\t\tvar prettyTime = _int2time(seconds, settings.timeFormat);\n\t\tself.val(prettyTime);\n\t}\n\n\tfunction _keyhandler(e)\n\t{\n\t\tvar self = $(this);\n\t\tvar list = self.data('timepicker-list');\n\n\t\tif (!list.is(':visible')) {\n\t\t\tif (e.keyCode == 40) {\n\t\t\t\tself.focus();\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\tswitch (e.keyCode) {\n\n\t\t\tcase 13: // return\n\t\t\t\t_selectValue(self);\n\t\t\t\tmethods.hide.apply(this);\n\t\t\t\te.preventDefault();\n\t\t\t\treturn false;\n\n\t\t\tcase 38: // up\n\t\t\t\tvar selected = list.find('.ui-timepicker-selected');\n\n\t\t\t\tif (!selected.length) {\n\t\t\t\t\tlist.children().each(function(i, obj) {\n\t\t\t\t\t\tif ($(obj).position().top > 0) {\n\t\t\t\t\t\t\tselected = $(obj);\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tselected.addClass('ui-timepicker-selected');\n\n\t\t\t\t} else if (!selected.is(':first-child')) {\n\t\t\t\t\tselected.removeClass('ui-timepicker-selected');\n\t\t\t\t\tselected.prev().addClass('ui-timepicker-selected');\n\n\t\t\t\t\tif (selected.prev().position().top < selected.outerHeight()) {\n\t\t\t\t\t\tlist.scrollTop(list.scrollTop() - selected.outerHeight());\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 40: // down\n\t\t\t\tselected = list.find('.ui-timepicker-selected');\n\n\t\t\t\tif (selected.length === 0) {\n\t\t\t\t\tlist.children().each(function(i, obj) {\n\t\t\t\t\t\tif ($(obj).position().top > 0) {\n\t\t\t\t\t\t\tselected = $(obj);\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tselected.addClass('ui-timepicker-selected');\n\t\t\t\t} else if (!selected.is(':last-child')) {\n\t\t\t\t\tselected.removeClass('ui-timepicker-selected');\n\t\t\t\t\tselected.next().addClass('ui-timepicker-selected');\n\n\t\t\t\t\tif (selected.next().position().top + 2*selected.outerHeight() > list.outerHeight()) {\n\t\t\t\t\t\tlist.scrollTop(list.scrollTop() + selected.outerHeight());\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 27: // escape\n\t\t\t\tlist.find('li').removeClass('ui-timepicker-selected');\n\t\t\t\tlist.hide();\n\t\t\t\tbreak;\n\n\t\t\tcase 9: //tab\n\t\t\t\tmethods.hide();\n\t\t\t\tbreak;\n\n\t\t\tcase 16:\n\t\t\tcase 17:\n\t\t\tcase 18:\n\t\t\tcase 19:\n\t\t\tcase 20:\n\t\t\tcase 33:\n\t\t\tcase 34:\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\tcase 37:\n\t\t\tcase 39:\n\t\t\tcase 45:\n\t\t\t\treturn;\n\n\t\t\tdefault:\n\t\t\t\tlist.find('li').removeClass('ui-timepicker-selected');\n\t\t\t\treturn;\n\t\t}\n\t}\n\n\tfunction _selectValue(self)\n\t{\n\t\tvar settings = self.data('timepicker-settings');\n\t\tvar list = self.data('timepicker-list');\n\t\tvar timeValue = null;\n\n\t\tvar cursor = list.find('.ui-timepicker-selected');\n\n\t\tif (cursor.length) {\n\t\t\t// selected value found\n\t\t\ttimeValue = cursor.data('time');\n\n\t\t} else if (self.val()) {\n\n\t\t\t// no selected value; fall back on input value\n\t\t\ttimeValue = _time2int(self.val());\n\n\t\t\t_setSelected(self, list);\n\t\t}\n\n\t\tif (timeValue !== null) {\n\t\t\tvar timeString = _int2time(timeValue, settings.timeFormat);\n\t\t\tself.attr('value', timeString);\n\t\t}\n\n\t\tself.trigger('change').trigger('changeTime');\n\t}\n\n\tfunction _int2duration(seconds)\n\t{\n\t\tvar minutes = Math.round(seconds/60);\n\t\tvar duration;\n\n\t\tif (Math.abs(minutes) < 60) {\n\t\t\tduration = [minutes, _lang.mins];\n\t\t} else if (minutes == 60) {\n\t\t\tduration = ['1', _lang.hr];\n\t\t} else {\n\t\t\tvar hours = (minutes/60).toFixed(1);\n\t\t\tif (_lang.decimal != '.') hours = hours.replace('.', _lang.decimal);\n\t\t\tduration = [hours, _lang.hrs];\n\t\t}\n\n\t\treturn duration.join(' ');\n\t}\n\n\tfunction _int2time(seconds, format)\n\t{\n\t\tif (seconds === null) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar time = new Date(_baseDate.valueOf() + (seconds*1000));\n\t\tvar output = '';\n\t\tvar hour, code;\n\n\t\tfor (var i=0; i<format.length; i++) {\n\n\t\t\tcode = format.charAt(i);\n\t\t\tswitch (code) {\n\n\t\t\t\tcase 'a':\n\t\t\t\t\toutput += (time.getHours() > 11) ? 'pm' : 'am';\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'A':\n\t\t\t\t\toutput += (time.getHours() > 11) ? 'PM' : 'AM';\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'g':\n\t\t\t\t\thour = time.getHours() % 12;\n\t\t\t\t\toutput += (hour === 0) ? '12' : hour;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'G':\n\t\t\t\t\toutput += time.getHours();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'h':\n\t\t\t\t\thour = time.getHours() % 12;\n\n\t\t\t\t\tif (hour !== 0 && hour < 10) {\n\t\t\t\t\t\thour = '0'+hour;\n\t\t\t\t\t}\n\n\t\t\t\t\toutput += (hour === 0) ? '12' : hour;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'H':\n\t\t\t\t\thour = time.getHours();\n\t\t\t\t\tif (seconds >= _ONE_DAY)\n\t\t\t\t\t\thour = Math.floor(seconds / (60 * 60));\n\t\t\t\t\toutput += (hour > 9) ? hour : '0'+hour;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'i':\n\t\t\t\t\tvar minutes = time.getMinutes();\n\t\t\t\t\toutput += (minutes > 9) ? minutes : '0'+minutes;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 's':\n\t\t\t\t\tseconds = time.getSeconds();\n\t\t\t\t\toutput += (seconds > 9) ? seconds : '0'+seconds;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\toutput += code;\n\t\t\t}\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tfunction _time2int(timeString)\n\t{\n\t\tif (timeString === '') return null;\n\t\tif (timeString+0 == timeString) return timeString;\n\n\t\tif (typeof(timeString) == 'object') {\n\t\t\ttimeString = timeString.getHours()+':'+timeString.getMinutes()+':'+timeString.getSeconds();\n\t\t}\n\n\t\tvar d = new Date(0);\n\t\tvar time = timeString.toLowerCase().match(/(\\d{1,2})(?::(\\d{1,2}))?(?::(\\d{2}))?\\s*([pa]?)/);\n\n\t\tif (!time) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar hour = parseInt(time[1]*1, 10);\n        var hours;\n\n\t\tif (time[4]) {\n\t\t\tif (hour == 12) {\n\t\t\t\thours = (time[4] == 'p') ? 12 : 0;\n\t\t\t} else {\n\t\t\t\thours = (hour + (time[4] == 'p' ? 12 : 0));\n\t\t\t}\n\n\t\t} else {\n\t\t\thours = hour;\n\t\t}\n\n\t\tvar minutes = ( time[2]*1 || 0 );\n\t\tvar seconds = ( time[3]*1 || 0 );\n\t\treturn hours*3600 + minutes*60 + seconds;\n\t}\n\n\t// Plugin entry\n\t$.fn.timepicker = function(method)\n\t{\n\t\tif(methods[method]) { return methods[method].apply(this, Array.prototype.slice.call(arguments, 1)); }\n\t\telse if(typeof method === \"object\" || !method) { return methods.init.apply(this, arguments); }\n\t\telse { $.error(\"Method \"+ method + \" does not exist on jQuery.timepicker\"); }\n\t};\n}));\n\n\n\n// WEBPACK FOOTER //\n// ./common/static/js/vendor/timepicker/jquery.timepicker.js","/**\n * A Backbone view that renders a fully accessible dropdown menu.\n *\n * Initialize the view by passing in the following attributes:\n *\n *~~~ javascript\n * view = new DropdownMenuView({\n *     className: 'space separated string of classes for element',\n *     model: new Backbone.Model({\n *         main: {\n *             image: 'http://placehold.it/40x40',\n *             screenreader_label: 'Dashboard for: ',\n *             text: 'username',\n *             url: 'dashboard'\n *         },\n *         button: {\n *             icon: 'icon-angle-down',\n *             label: 'User options dropdown'\n *         },\n *         items: [\n *             {\n *                 text: 'Account',\n *                 url: 'account_settings'\n *             }, {\n *                 text: 'Sign Out',\n *                 url: 'logout'\n *             }\n *         ]\n *     }),\n *     parent: 'selector for parent element that will be replaced with dropdown menu',\n *     ...\n * });\n *~~~\n * @module DropdownMenuView\n */\n(function(define) {\n    'use strict';\n    define([\n        'backbone',\n        'jquery',\n        'underscore',\n        'edx-ui-toolkit/js/utils/constants',\n        'text!./dropdown.underscore'\n    ],\n        function(Backbone, $, _, constants, DropdownTpl) {\n            var DropdownMenuView = Backbone.View.extend({\n                tpl: _.template(DropdownTpl),\n\n                events: {\n                    'click .js-dropdown-button': 'clickOpenDropdown',\n                    'click a': 'analyticsLinkClick',\n                    keydown: 'viewKeypress'\n                },\n\n                dropdownButton: '.js-dropdown-button',\n\n                menu: '.dropdown-menu',\n\n                initialize: function(options) {\n                    if (options.parent) {\n                        this.$parent = $(options.parent);\n                    }\n\n                    this.menuId = options.menuId || 'dropdown-menu-' + this.cid;\n                    this.keyBack = [constants.keyCodes.up, constants.keyCodes.left];\n                    this.keyForward = [constants.keyCodes.down, constants.keyCodes.right];\n                    this.keyClose = [constants.keyCodes.esc, constants.keyCodes.space];\n                },\n\n                className: function() {\n                    return this.options.className;\n                },\n\n                render: function() {\n                    /**\n                     * Set in the render function to prevent error when\n                     * view is used with a pre-rendered DOM\n                     */\n                    this.model.set({menuId: this.menuId});\n\n                    this.$el.html(this.tpl(this.model.toJSON()));\n                    this.$parent.replaceWith(this.$el);\n                    this.postRender();\n\n                    return this;\n                },\n\n                postRender: function() {\n                    this.$menu = this.$('.dropdown-menu');\n                    this.$page = $(document);\n                    this.$dropdownButton = this.$(this.dropdownButton);\n                    this.$lastItem = this.$menu.find('li:last-child a');\n                },\n\n                /**\n                 * Function to track analytics.\n                 *\n                 * By default it doesn't do anything, to utilize please\n                 * extend the View and implement a method such as the\n                 * following:\n                 *\n                 *~~~ javascript\n                 * var $link = $(event.target),\n                 *     label = $link.hasClass('menu-title') ? 'Dashboard' : $link.html().trim();\n                 *\n                 * window.analytics.track('user_dropdown.clicked', {\n                 *     category: 'navigation',\n                 *     label: label,\n                 *     link: $link.attr('href')\n                 * });\n                 *~~~\n                 *\n                 * @param {object} event The event to be tracked.\n                 * @returns {*} The event.\n                 */\n                analyticsLinkClick: function(event) {\n                    return event;\n                },\n\n                clickCloseDropdown: function(event, context) {\n                    var $el = $(event.target) || $(document),\n                        $btn;\n\n                    // When using edX Pattern Library icons the target\n                    // is sometimes not the button.\n                    if (!$el.hasClass(this.dropdownButton)) {\n                        // If there is a parent dropdown button that is the element to test\n                        $btn = $el.closest(this.dropdownButton);\n                        if ($btn.length > 0) {\n                            $el = $btn;\n                        }\n                    }\n\n                    if (!$el.hasClass('button-more') && !$el.hasClass('has-dropdown')) {\n                        context.closeDropdownMenu();\n                    }\n                },\n\n                clickOpenDropdown: function(event) {\n                    event.preventDefault();\n                    this.openMenu(this.$dropdownButton);\n                },\n\n                closeDropdownMenu: function() {\n                    var $open = this.$(this.menu);\n\n                    $open.removeClass('is-visible')\n                        .addClass('is-hidden');\n\n                    this.$dropdownButton\n                        .removeClass('is-active')\n                        .attr('aria-expanded', 'false');\n                },\n\n                focusFirstItem: function() {\n                    this.$menu.find('.dropdown-item:first-child .action').focus();\n                },\n\n                focusLastItem: function() {\n                    this.$lastItem.focus();\n                },\n\n                handlerIsAction: function(key, $el) {\n                    if (_.contains(this.keyForward, key)) {\n                        this.nextMenuItemLink($el);\n                    } else if (_.contains(this.keyBack, key)) {\n                        this.previousMenuItemLink($el);\n                    }\n                },\n\n                handlerIsButton: function(key, event) {\n                    if (_.contains(this.keyForward, key)) {\n                        this.focusFirstItem();\n                        // if up arrow or left arrow key pressed or shift+tab\n                    } else if (_.contains(this.keyBack, key) || key === constants.keyCodes.tab && event.shiftKey) {\n                        event.preventDefault();\n                        this.focusLastItem();\n                    }\n                },\n\n                handlerIsMenu: function(key) {\n                    if (_.contains(this.keyForward, key)) {\n                        this.focusFirstItem();\n                    } else if (_.contains(this.keyBack, key)) {\n                        this.$dropdownButton.focus();\n                    }\n                },\n\n                handlerPageClicks: function(context) {\n                    // Only want 1 event listener for click.dropdown\n                    // on the page so unbind for instantiating\n                    this.$page.off('click.dropdown');\n                    this.$page.on('click.dropdown', function(event) {\n                        context.clickCloseDropdown(event, context);\n                    });\n                },\n\n                nextMenuItemLink: function($el) {\n                    var items = this.$('.dropdown-menu').children('.dropdown-item').find('.action'),\n                        itemsCount = items.length - 1,\n                        index = items.index($el),\n                        next = index + 1;\n\n                    if (index === itemsCount) {\n                        this.$dropdownButton.focus();\n                    } else {\n                        items.eq(next).focus();\n                    }\n                },\n\n                openMenu: function($btn) {\n                    var $menu = this.$menu;\n                    if ($menu.hasClass('is-visible')) {\n                        this.closeDropdownMenu();\n                    } else {\n                        $btn.addClass('is-active')\n                            .attr('aria-expanded', 'true');\n\n                        $menu.removeClass('is-hidden')\n                            .addClass('is-visible');\n\n                        $menu.focus();\n                        this.setOrientation();\n                        this.handlerPageClicks(this);\n                    }\n                },\n\n                previousMenuItemLink: function($el) {\n                    var items = this.$('.dropdown-menu').children('.dropdown-item').find('.action'),\n                        index = items.index($el),\n                        prev = index - 1;\n\n                    if (index === 0) {\n                        this.$dropdownButton.focus();\n                    } else {\n                        items.eq(prev).focus();\n                    }\n                },\n\n                setOrientation: function() {\n                    var midpoint = $(window).width() / 2,\n                        alignClass = (this.$dropdownButton.offset().left > midpoint) ? 'align-right' : 'align-left';\n\n                    this.$menu\n                        .removeClass('align-left align-right')\n                        .addClass(alignClass);\n                },\n\n                viewKeypress: function(event) {\n                    var key = event.keyCode,\n                        $el = $(event.target);\n\n                    if (_.contains(this.keyForward, key) || _.contains(this.keyBack, key)) {\n                        // Prevent default behavior if one of our trigger keys\n                        event.preventDefault();\n                    }\n\n                    if (key === constants.keyCodes.tab && !event.shiftKey && _.first($el) === _.first(this.$lastItem)) {\n                        event.preventDefault();\n                        this.$dropdownButton.focus();\n                    } else if (_.contains(this.keyClose, key)) {\n                        this.closeDropdownMenu();\n                        this.$dropdownButton.focus();\n                    } else if ($el.hasClass('action')) {\n                        // Key handlers for when a menu item has focus\n                        this.handlerIsAction(key, $el);\n                    } else if ($el.hasClass('dropdown-menu')) {\n                        // Key handlers for when the menu itself has focus, before an item within it receives focus\n                        this.handlerIsMenu(key);\n                    } else if ($el.hasClass('has-dropdown')) {\n                        // Key handlers for when the button that opens the menu has focus\n                        this.handlerIsButton(key, event);\n                    }\n                }\n            });\n\n            return DropdownMenuView;\n        }\n    );\n}).call(\n    this,\n    // Use the default 'define' function if available, else use 'RequireJS.define'\n    typeof define === 'function' && define.amd ? define : RequireJS.define\n);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/edx-ui-toolkit/src/js/dropdown-menu/dropdown-menu-view.js\n// module id = ./node_modules/edx-ui-toolkit/src/js/dropdown-menu/dropdown-menu-view.js\n// module chunks = 4 6","module.exports = \"module.exports = \\\"<a href=\\\\\\\"<%- main.url %>\\\\\\\" class=\\\\\\\"menu-title\\\\\\\">\\\\n    <% if (main.screenreader_label) { %>\\\\n        <span class=\\\\\\\"sr-only\\\\\\\"><%- main.screenreader_label %> </span>\\\\n    <% } %>\\\\n    <% if (main.image) { %>\\\\n        <img class=\\\\\\\"menu-image\\\\\\\" src=\\\\\\\"<%- main.image %>\\\\\\\" alt=\\\\\\\"\\\\\\\">\\\\n    <% } %>\\\\n    <%- main.text %>\\\\n</a>\\\\n<button type=\\\\\\\"button\\\\\\\" class=\\\\\\\"menu-button button-more has-dropdown js-dropdown-button <% if (!button.icon) { %>default-icon<% } %>\\\\\\\" aria-haspopup=\\\\\\\"true\\\\\\\" aria-expanded=\\\\\\\"false\\\\\\\" aria-controls=\\\\\\\"<%- menuId %>\\\\\\\">\\\\n    <% if (button.icon) { %>\\\\n        <span class=\\\\\\\"icon <%- button.icon %>\\\\\\\" aria-hidden=\\\\\\\"true\\\\\\\"></span>\\\\n    <% } %>\\\\n    <span class=\\\\\\\"sr-only\\\\\\\"><%- button.label %></span>\\\\n</button>\\\\n<ul class=\\\\\\\"dropdown-menu list-divided is-hidden\\\\\\\" id=\\\\\\\"<%- menuId %>\\\\\\\" tabindex=\\\\\\\"-1\\\\\\\">\\\\n    <% _.each(items, function(item, index) { %>\\\\n        <li class=\\\\\\\"dropdown-item item has-block-link\\\\\\\">\\\\n            <a href=\\\\\\\"<%- item.url %>\\\\\\\" class=\\\\\\\"action\\\\\\\"><%- item.text %></a>\\\\n        </li>\\\\n    <% }); %>\\\\n</ul>\\\\n\\\"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raw-loader!./~/edx-ui-toolkit/src/js/dropdown-menu/dropdown.underscore\n// module id = ./node_modules/raw-loader/index.js!./node_modules/edx-ui-toolkit/src/js/dropdown-menu/dropdown.underscore\n// module chunks = 4 6","(function() { module.exports = window[\"jQuery\"]; }());\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 0\n// module chunks = 4 5 6 9 10 12 13 14 16 17 18 19 20 21 22 23 24 25 26 29","(function() { module.exports = window[\"Backbone\"]; }());\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Backbone\"\n// module id = 1\n// module chunks = 4 5 6 9 10 14 16 17","(function() { module.exports = window[\"_\"]; }());\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"_\"\n// module id = 2\n// module chunks = 4 5 6 9 10 14 16","(function() { module.exports = window[\"gettext\"]; }());\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"gettext\"\n// module id = 3\n// module chunks = 4 6 14"],"sourceRoot":""}