{"version":3,"sources":["webpack:///./openedx/features/course_experience/static/course_experience/js/HomeUpdates.js","webpack:///external \"jQuery\"?0cb8***********"],"names":["HomeUpdates","options","pastDate","Date","cookieExpiresInDays","setDate","getDate","$","messageContainer","each","index","target","updateDateString","find","data","updateDate","parse","getTime","hide","cookieElements","cookie","cookieElementList","split","forEach","id","dismissButton","click","event","updateMessageId","closest","cookieElementsBuilder","expires"],"mappings":";;;;;;;;;;;;AAAA;AACA;;AAEA,IAAaA,WAAb,GAA4B;AAC1B,qBAAYC,OAAZ,EAAqB;AAAA;;AACnB,QAAIC,WAAW,IAAIC,IAAJ,EAAf;AACA,QAAIC,sBAAsB,EAA1B;AACAF,aAASG,OAAT,CAAiBH,SAASI,OAAT,KAAmBF,mBAApC;AACAG,MAAEN,QAAQO,gBAAV,EAA4BC,IAA5B,CAAiC,UAACC,KAAD,EAAOC,MAAP,EAAgB;AAC7C,YAAIC,mBAAmBL,EAAEI,MAAF,EAAUE,IAAV,CAAeN,EAAE,qBAAF,CAAf,EAAyCO,IAAzC,CAA8C,UAA9C,CAAvB;AACA,YAAIC,aAAaZ,KAAKa,KAAL,CAAWJ,gBAAX,CAAjB;AACA,YAAIV,SAASe,OAAT,KAAqBF,UAAzB,EAAoC;AAChCR,cAAEI,MAAF,EAAUO,IAAV;AACH;AAAC,KALN;;AAOA,QAAIC,iBAAiBZ,EAAEa,MAAF,CAAS,gBAAT,CAArB;AACA,QAAID,cAAJ,EAAoB;AAChB,YAAIE,oBAAoBF,eAAeG,KAAf,CAAqB,GAArB,CAAxB;AACAD,0BAAkBE,OAAlB,CAA0B,UAAUC,EAAV,EAAc;AACxCjB,mCAAqBiB,EAArB,EAA2BN,IAA3B;AACD,SAFC;AAGH;AACDX,MAAEN,QAAQwB,aAAV,EAAyBC,KAAzB,CAA+B,UAACC,KAAD,EAAW;AACxC,YAAIC,kBAAkBrB,EAAEoB,MAAMhB,MAAR,EAAgBkB,OAAhB,CAAwBtB,EAAE,iBAAF,CAAxB,EAA8CO,IAA9C,CAAmD,IAAnD,CAAtB;AACA,YAAIgB,wBAAyBvB,EAAEa,MAAF,CAAS,gBAAT,CAA7B;AACA,YAAIU,qBAAJ,EAA0B;AACtBA,oCAAwBA,wBAAwB,GAAxB,GAA8BF,eAAtD;AACH,SAFD,MAEO;AACHE,oCAAwBF,eAAxB;AACH;AACDrB,UAAEa,MAAF,CAAS,gBAAT,EAA2BU,qBAA3B,EAAkD,EAAEC,SAAS3B,mBAAX,EAAlD;AACAG,+BAAqBqB,eAArB,EAAwCV,IAAxC;AACD,KAVD;AAWD,CA9BH,C;;;;;;;;ACHA,aAAa,mCAAmC,EAAE,I","file":"HomeUpdates.js","sourcesContent":["/* globals $ */\nimport 'jquery.cookie';\n\nexport class HomeUpdates {  // eslint-disable-line import/prefer-default-export\n  constructor(options) {\n    let pastDate = new Date();\n    let cookieExpiresInDays = 14;\n    pastDate.setDate(pastDate.getDate()-cookieExpiresInDays);\n    $(options.messageContainer).each((index,target)=>{\n        let updateDateString = $(target).find($('.localized-datetime')).data('datetime');\n        let updateDate = Date.parse(updateDateString);\n        if (pastDate.getTime() > updateDate){\n            $(target).hide();\n        }});\n\n    let cookieElements = $.cookie('update-message');\n    if (cookieElements) {\n        let cookieElementList = cookieElements.split(',');\n        cookieElementList.forEach(function (id) {\n        $(`#update-message-${id}`).hide();\n      });\n    }\n    $(options.dismissButton).click((event) => {\n      let updateMessageId = $(event.target).closest($('.update-message')).data('id');\n      let cookieElementsBuilder =  $.cookie('update-message');\n      if (cookieElementsBuilder){\n          cookieElementsBuilder = cookieElementsBuilder + ',' + updateMessageId  ;\n      } else {\n          cookieElementsBuilder = updateMessageId ;\n      }\n      $.cookie('update-message', cookieElementsBuilder, { expires: cookieExpiresInDays });\n      $(`#update-message-${updateMessageId}`).hide();\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./openedx/features/course_experience/static/course_experience/js/HomeUpdates.js","(function() { module.exports = window[\"jQuery\"]; }());\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 0\n// module chunks = 4 5 6 9 10 12 13 14 16 17 18 19 20 21 22 23 24 25 26 29"],"sourceRoot":""}